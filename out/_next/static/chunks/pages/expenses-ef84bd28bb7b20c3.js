(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[689],{2479:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/expenses",function(){return s(9526)}])},9526:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return j}});var t=s(5893),r=s(645),i=s.n(r),d=s(7294),o=s(9008),n=s.n(o),l=s(1664),c=s.n(l),b=s(1163),x=s(6838),m=s(8664);function f(e){let{initialData:a,onSubmit:s,onCancel:r,loading:o}=e,[n,l]=(0,d.useState)({amount:"",category:"",vendor:"",date:"",description:"",paymentMode:""}),[c,b]=(0,d.useState)({}),[x,f]=(0,d.useState)(!1);(0,d.useEffect)(()=>{if(a){var e;l({amount:(null===(e=a.amount)||void 0===e?void 0:e.toString())||"",category:a.category||"",vendor:a.vendor||"",date:a.date?a.date.toISOString().split("T")[0]:"",description:a.description||"",paymentMode:a.paymentMode||""})}else{let e=new Date;l(a=>({...a,date:e.toISOString().split("T")[0]}))}},[a]);let p=e=>{let{name:a,value:s}=e.target;l(e=>({...e,[a]:s})),c[a]&&b(e=>({...e,[a]:""}))},j=async e=>{e.preventDefault(),f(!0),b({});try{let e=m.ZP.validateExpenseData(n);if(!e.isValid){b(e.errors),f(!1);return}await s(n)}catch(e){console.error("Error submitting form:",e),b({general:"Failed to submit form. Please try again."})}finally{f(!1)}};return(0,t.jsxs)("div",{className:"jsx-936e70cc8ad1a182 expense-form",children:[(0,t.jsxs)("form",{onSubmit:j,className:"jsx-936e70cc8ad1a182 form",children:[c.general&&(0,t.jsx)("div",{className:"jsx-936e70cc8ad1a182 form-error",children:c.general}),(0,t.jsxs)("div",{className:"jsx-936e70cc8ad1a182 form-grid",children:[(0,t.jsxs)("div",{className:"jsx-936e70cc8ad1a182 form-group",children:[(0,t.jsx)("label",{htmlFor:"amount",className:"jsx-936e70cc8ad1a182 form-label",children:"Amount (₹) *"}),(0,t.jsx)("input",{type:"number",id:"amount",name:"amount",value:n.amount,onChange:p,placeholder:"Enter amount",min:"0.01",max:"1000000",step:"0.01",required:!0,className:"jsx-936e70cc8ad1a182 "+"form-input ".concat(c.amount?"error":"")}),c.amount&&(0,t.jsx)("div",{className:"jsx-936e70cc8ad1a182 error-message",children:c.amount}),(0,t.jsx)("div",{className:"jsx-936e70cc8ad1a182 field-hint",children:"Enter the expense amount in Indian Rupees"})]}),(0,t.jsxs)("div",{className:"jsx-936e70cc8ad1a182 form-group",children:[(0,t.jsx)("label",{htmlFor:"category",className:"jsx-936e70cc8ad1a182 form-label",children:"Category *"}),(0,t.jsxs)("select",{id:"category",name:"category",value:n.category,onChange:p,required:!0,className:"jsx-936e70cc8ad1a182 "+"form-select ".concat(c.category?"error":""),children:[(0,t.jsx)("option",{value:"",className:"jsx-936e70cc8ad1a182",children:"Select Category"}),Object.entries(m._O).map(e=>{let[a,s]=e;return(0,t.jsx)("option",{value:a,className:"jsx-936e70cc8ad1a182",children:s},a)})]}),c.category&&(0,t.jsx)("div",{className:"jsx-936e70cc8ad1a182 error-message",children:c.category}),(0,t.jsx)("div",{className:"jsx-936e70cc8ad1a182 field-hint",children:"Choose the most appropriate expense category"})]}),(0,t.jsxs)("div",{className:"jsx-936e70cc8ad1a182 form-group",children:[(0,t.jsx)("label",{htmlFor:"paymentMode",className:"jsx-936e70cc8ad1a182 form-label",children:"Payment Mode *"}),(0,t.jsxs)("select",{id:"paymentMode",name:"paymentMode",value:n.paymentMode,onChange:p,required:!0,className:"jsx-936e70cc8ad1a182 "+"form-select ".concat(c.paymentMode?"error":""),children:[(0,t.jsx)("option",{value:"",className:"jsx-936e70cc8ad1a182",children:"Select Payment Mode"}),Object.entries(m.f7).map(e=>{let[a,s]=e;return(0,t.jsx)("option",{value:a,className:"jsx-936e70cc8ad1a182",children:s},a)})]}),c.paymentMode&&(0,t.jsx)("div",{className:"jsx-936e70cc8ad1a182 error-message",children:c.paymentMode}),(0,t.jsx)("div",{className:"jsx-936e70cc8ad1a182 field-hint",children:"How was the payment made?"})]}),(0,t.jsxs)("div",{className:"jsx-936e70cc8ad1a182 form-group",children:[(0,t.jsx)("label",{htmlFor:"date",className:"jsx-936e70cc8ad1a182 form-label",children:"Date *"}),(0,t.jsx)("input",{type:"date",id:"date",name:"date",value:n.date,onChange:p,required:!0,className:"jsx-936e70cc8ad1a182 "+"form-input ".concat(c.date?"error":"")}),c.date&&(0,t.jsx)("div",{className:"jsx-936e70cc8ad1a182 error-message",children:c.date}),(0,t.jsx)("div",{className:"jsx-936e70cc8ad1a182 field-hint",children:"When was this expense incurred?"})]}),(0,t.jsxs)("div",{className:"jsx-936e70cc8ad1a182 form-group full-width",children:[(0,t.jsx)("label",{htmlFor:"vendor",className:"jsx-936e70cc8ad1a182 form-label",children:"Vendor (Optional)"}),(0,t.jsx)("input",{type:"text",id:"vendor",name:"vendor",value:n.vendor,onChange:p,placeholder:"Enter vendor name",maxLength:"100",className:"jsx-936e70cc8ad1a182 "+"form-input ".concat(c.vendor?"error":"")}),c.vendor&&(0,t.jsx)("div",{className:"jsx-936e70cc8ad1a182 error-message",children:c.vendor}),(0,t.jsx)("div",{className:"jsx-936e70cc8ad1a182 field-hint",children:"Name of the vendor or supplier (optional)"})]}),(0,t.jsxs)("div",{className:"jsx-936e70cc8ad1a182 form-group full-width",children:[(0,t.jsx)("label",{htmlFor:"description",className:"jsx-936e70cc8ad1a182 form-label",children:"Description (Optional)"}),(0,t.jsx)("textarea",{id:"description",name:"description",value:n.description,onChange:p,placeholder:"Enter additional details about this expense...",rows:"3",maxLength:"500",className:"jsx-936e70cc8ad1a182 "+"form-textarea ".concat(c.description?"error":"")}),c.description&&(0,t.jsx)("div",{className:"jsx-936e70cc8ad1a182 error-message",children:c.description}),(0,t.jsx)("div",{className:"jsx-936e70cc8ad1a182 field-hint",children:"Additional details or notes about this expense (optional)"})]})]}),(0,t.jsxs)("div",{className:"jsx-936e70cc8ad1a182 form-actions",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{l({amount:"",category:"",vendor:"",date:new Date().toISOString().split("T")[0],description:"",paymentMode:""}),b({})},disabled:o||x,className:"jsx-936e70cc8ad1a182 btn btn-outline",children:"Reset"}),(0,t.jsx)("button",{type:"button",onClick:r,disabled:o||x,className:"jsx-936e70cc8ad1a182 btn btn-outline",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:o||x,className:"jsx-936e70cc8ad1a182 btn btn-primary",children:o||x?"Saving...":a?"Update Expense":"Add Expense"})]})]}),(0,t.jsx)(i(),{id:"936e70cc8ad1a182",children:".expense-form.jsx-936e70cc8ad1a182{padding:1.5rem}.form.jsx-936e70cc8ad1a182{max-width:800px}.form-error.jsx-936e70cc8ad1a182{background-color:#fee;color:#c53030;border:1px solid#fed7d7;padding:1rem;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;margin-bottom:1rem}.form-grid.jsx-936e70cc8ad1a182{display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem;margin-bottom:2rem}.form-group.jsx-936e70cc8ad1a182{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.form-group.full-width.jsx-936e70cc8ad1a182{grid-column:1/-1}.form-label.jsx-936e70cc8ad1a182{margin-bottom:.5rem;font-weight:500;color:#333;font-size:.9rem}.form-input.jsx-936e70cc8ad1a182,.form-select.jsx-936e70cc8ad1a182,.form-textarea.jsx-936e70cc8ad1a182{padding:.75rem;border:1px solid#ddd;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:1rem;-webkit-transition:border-color.2s ease,box-shadow.2s ease;-moz-transition:border-color.2s ease,box-shadow.2s ease;-o-transition:border-color.2s ease,box-shadow.2s ease;transition:border-color.2s ease,box-shadow.2s ease;background:#fff}.form-input.jsx-936e70cc8ad1a182:focus,.form-select.jsx-936e70cc8ad1a182:focus,.form-textarea.jsx-936e70cc8ad1a182:focus{outline:none;border-color:#4285f4;-webkit-box-shadow:0 0 0 2px rgba(66,133,244,.2);-moz-box-shadow:0 0 0 2px rgba(66,133,244,.2);box-shadow:0 0 0 2px rgba(66,133,244,.2)}.form-input.error.jsx-936e70cc8ad1a182,.form-select.error.jsx-936e70cc8ad1a182,.form-textarea.error.jsx-936e70cc8ad1a182{border-color:#e53e3e;-webkit-box-shadow:0 0 0 2px rgba(229,62,62,.2);-moz-box-shadow:0 0 0 2px rgba(229,62,62,.2);box-shadow:0 0 0 2px rgba(229,62,62,.2)}.form-textarea.jsx-936e70cc8ad1a182{resize:vertical;min-height:80px}.error-message.jsx-936e70cc8ad1a182{color:#e53e3e;font-size:.8rem;margin-top:.25rem}.field-hint.jsx-936e70cc8ad1a182{color:#666;font-size:.8rem;margin-top:.25rem;font-style:italic}.form-actions.jsx-936e70cc8ad1a182{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:1rem;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding-top:1rem;border-top:1px solid#e0e0e0}.btn.jsx-936e70cc8ad1a182{padding:.75rem 1.5rem;border:none;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.btn.jsx-936e70cc8ad1a182:disabled{opacity:.6;cursor:not-allowed}.btn-primary.jsx-936e70cc8ad1a182{background:#4285f4;color:white}.btn-primary.jsx-936e70cc8ad1a182:hover:not(:disabled){background:#3367d6}.btn-outline.jsx-936e70cc8ad1a182{background:transparent;color:#666;border:1px solid#ddd}.btn-outline.jsx-936e70cc8ad1a182:hover:not(:disabled){background:#f8f9fa;border-color:#bbb}@media(max-width:768px){.expense-form.jsx-936e70cc8ad1a182{padding:1rem}.form-grid.jsx-936e70cc8ad1a182{grid-template-columns:1fr;gap:1rem}.form-actions.jsx-936e70cc8ad1a182{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.btn.jsx-936e70cc8ad1a182{width:100%}}"})]})}function p(e){let{expenses:a,loading:s,onEdit:r,onDelete:o}=e,[n,l]=(0,d.useState)("date"),[c,b]=(0,d.useState)("desc"),[x,f]=(0,d.useState)(1),[p]=(0,d.useState)(10),j=[...a].sort((e,a)=>{let s=e[n],t=a[n];return("date"===n?(s=new Date(s),t=new Date(t)):"amount"===n?(s=parseFloat(s),t=parseFloat(t)):"string"==typeof s&&(s=s.toLowerCase(),t=t.toLowerCase()),"asc"===c)?s>t?1:-1:s<t?1:-1}),g=Math.ceil(j.length/p),u=(x-1)*p,h=j.slice(u,u+p),w=e=>{n===e?b("asc"===c?"desc":"asc"):(l(e),b("desc")),f(1)},y=e=>{f(e)},k=e=>new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}),v=e=>n===e?"asc"===c?"↑":"↓":"↕";return s?(0,t.jsxs)("div",{className:"jsx-f0c5b7cf408382ec expense-list",children:[(0,t.jsxs)("div",{className:"jsx-f0c5b7cf408382ec loading-state",children:[(0,t.jsx)("div",{className:"jsx-f0c5b7cf408382ec loading-spinner"}),(0,t.jsx)("p",{className:"jsx-f0c5b7cf408382ec",children:"Loading expenses..."})]}),(0,t.jsx)(i(),{id:"f0c5b7cf408382ec",children:".expense-list.jsx-f0c5b7cf408382ec{padding:1.5rem;text-align:center}.loading-state.jsx-f0c5b7cf408382ec{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:1rem;padding:3rem;color:#666}.loading-spinner.jsx-f0c5b7cf408382ec{width:40px;height:40px;border:4px solid#f3f3f3;border-top:4px solid#4285f4;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-animation:spin 1s linear infinite;-moz-animation:spin 1s linear infinite;-o-animation:spin 1s linear infinite;animation:spin 1s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]}):0===a.length?(0,t.jsxs)("div",{className:"jsx-e7c6eaf174d8e052 expense-list",children:[(0,t.jsxs)("div",{className:"jsx-e7c6eaf174d8e052 empty-state",children:[(0,t.jsx)("div",{className:"jsx-e7c6eaf174d8e052 empty-icon",children:"\uD83D\uDCCB"}),(0,t.jsx)("h3",{className:"jsx-e7c6eaf174d8e052",children:"No Expenses Found"}),(0,t.jsx)("p",{className:"jsx-e7c6eaf174d8e052",children:"No expenses match your current filters or you haven't added any expenses yet."})]}),(0,t.jsx)(i(),{id:"e7c6eaf174d8e052",children:".expense-list.jsx-e7c6eaf174d8e052{padding:1.5rem;text-align:center}.empty-state.jsx-e7c6eaf174d8e052{padding:3rem;color:#666}.empty-icon.jsx-e7c6eaf174d8e052{font-size:4rem;margin-bottom:1rem}.empty-state.jsx-e7c6eaf174d8e052 h3.jsx-e7c6eaf174d8e052{margin:0 0 .5rem 0;color:#333}.empty-state.jsx-e7c6eaf174d8e052 p.jsx-e7c6eaf174d8e052{margin:0;color:#666}"})]}):(0,t.jsxs)("div",{className:"jsx-d0ec660a7573a140 expense-list",children:[(0,t.jsxs)("div",{className:"jsx-d0ec660a7573a140 list-header",children:[(0,t.jsxs)("h3",{className:"jsx-d0ec660a7573a140",children:["Expenses (",a.length,")"]}),(0,t.jsxs)("div",{className:"jsx-d0ec660a7573a140 list-info",children:["Showing ",u+1,"-",Math.min(u+p,a.length)," of ",a.length]})]}),(0,t.jsx)("div",{className:"jsx-d0ec660a7573a140 table-container",children:(0,t.jsxs)("table",{className:"jsx-d0ec660a7573a140 expense-table",children:[(0,t.jsx)("thead",{className:"jsx-d0ec660a7573a140",children:(0,t.jsxs)("tr",{className:"jsx-d0ec660a7573a140",children:[(0,t.jsxs)("th",{onClick:()=>w("date"),className:"jsx-d0ec660a7573a140 "+"sortable ".concat("date"===n?"active":""),children:["Date ",v("date")]}),(0,t.jsxs)("th",{onClick:()=>w("category"),className:"jsx-d0ec660a7573a140 "+"sortable ".concat("category"===n?"active":""),children:["Category ",v("category")]}),(0,t.jsxs)("th",{onClick:()=>w("amount"),className:"jsx-d0ec660a7573a140 "+"sortable ".concat("amount"===n?"active":""),children:["Amount ",v("amount")]}),(0,t.jsx)("th",{className:"jsx-d0ec660a7573a140",children:"Vendor"}),(0,t.jsxs)("th",{onClick:()=>w("paymentMode"),className:"jsx-d0ec660a7573a140 "+"sortable ".concat("paymentMode"===n?"active":""),children:["Payment Mode ",v("paymentMode")]}),(0,t.jsx)("th",{className:"jsx-d0ec660a7573a140",children:"Description"}),(0,t.jsx)("th",{className:"jsx-d0ec660a7573a140",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"jsx-d0ec660a7573a140",children:h.map(e=>(0,t.jsxs)("tr",{className:"jsx-d0ec660a7573a140",children:[(0,t.jsx)("td",{className:"jsx-d0ec660a7573a140 date-cell",children:k(e.date)}),(0,t.jsx)("td",{className:"jsx-d0ec660a7573a140 category-cell",children:(0,t.jsx)("div",{className:"jsx-d0ec660a7573a140 category-info",children:(0,t.jsx)("div",{className:"jsx-d0ec660a7573a140 category-name",children:m._O[e.category]||e.category})})}),(0,t.jsx)("td",{className:"jsx-d0ec660a7573a140 amount-cell",children:(0,t.jsx)("span",{className:"jsx-d0ec660a7573a140 amount",children:m.ZP.formatCurrency(e.amount)})}),(0,t.jsx)("td",{className:"jsx-d0ec660a7573a140 vendor-cell",children:e.vendor||"-"}),(0,t.jsx)("td",{className:"jsx-d0ec660a7573a140 payment-cell",children:(0,t.jsx)("span",{className:"jsx-d0ec660a7573a140 "+"payment-badge ".concat(e.paymentMode),children:m.f7[e.paymentMode]||e.paymentMode})}),(0,t.jsx)("td",{className:"jsx-d0ec660a7573a140 description-cell",children:e.description?(0,t.jsx)("div",{title:e.description,className:"jsx-d0ec660a7573a140 description-text",children:e.description.length>50?"".concat(e.description.substring(0,50),"..."):e.description}):"-"}),(0,t.jsx)("td",{className:"jsx-d0ec660a7573a140 actions-cell",children:(0,t.jsxs)("div",{className:"jsx-d0ec660a7573a140 action-buttons",children:[(0,t.jsx)("button",{onClick:()=>r(e),title:"Edit expense",className:"jsx-d0ec660a7573a140 btn btn-edit",children:"✏️"}),(0,t.jsx)("button",{onClick:()=>o(e.id),title:"Delete expense",className:"jsx-d0ec660a7573a140 btn btn-delete",children:"\uD83D\uDDD1️"})]})})]},e.id))})]})}),g>1&&(0,t.jsxs)("div",{className:"jsx-d0ec660a7573a140 pagination",children:[(0,t.jsx)("button",{onClick:()=>y(x-1),disabled:1===x,className:"jsx-d0ec660a7573a140 pagination-btn",children:"Previous"}),(0,t.jsx)("div",{className:"jsx-d0ec660a7573a140 pagination-info",children:Array.from({length:g},(e,a)=>a+1).map(e=>(0,t.jsx)("button",{onClick:()=>y(e),className:"jsx-d0ec660a7573a140 "+"pagination-btn ".concat(e===x?"active":""),children:e},e))}),(0,t.jsx)("button",{onClick:()=>y(x+1),disabled:x===g,className:"jsx-d0ec660a7573a140 pagination-btn",children:"Next"})]}),(0,t.jsx)(i(),{id:"d0ec660a7573a140",children:".expense-list.jsx-d0ec660a7573a140{padding:0}.list-header.jsx-d0ec660a7573a140{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:1.5rem;border-bottom:1px solid#e0e0e0;background:#f8f9fa}.list-header.jsx-d0ec660a7573a140 h3.jsx-d0ec660a7573a140{margin:0;color:#333;font-size:1.25rem;font-weight:600}.list-info.jsx-d0ec660a7573a140{color:#666;font-size:.9rem}.table-container.jsx-d0ec660a7573a140{overflow-x:auto}.expense-table.jsx-d0ec660a7573a140{width:100%;border-collapse:collapse;background:#fff}.expense-table.jsx-d0ec660a7573a140 th.jsx-d0ec660a7573a140,.expense-table.jsx-d0ec660a7573a140 td.jsx-d0ec660a7573a140{padding:1rem;text-align:left;border-bottom:1px solid#e0e0e0;vertical-align:middle}.expense-table.jsx-d0ec660a7573a140 th.jsx-d0ec660a7573a140{background:#f8f9fa;font-weight:600;color:#333;font-size:.9rem;white-space:nowrap}.expense-table.jsx-d0ec660a7573a140 th.sortable.jsx-d0ec660a7573a140{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-transition:background-color.2s ease;-moz-transition:background-color.2s ease;-o-transition:background-color.2s ease;transition:background-color.2s ease}.expense-table.jsx-d0ec660a7573a140 th.sortable.jsx-d0ec660a7573a140:hover{background:#e9ecef}.expense-table.jsx-d0ec660a7573a140 th.sortable.active.jsx-d0ec660a7573a140{background:#dee2e6;color:#4285f4}.expense-table.jsx-d0ec660a7573a140 tr.jsx-d0ec660a7573a140:hover{background:#f8f9fa}.date-cell.jsx-d0ec660a7573a140{font-size:.9rem;color:#666;white-space:nowrap}.category-cell.jsx-d0ec660a7573a140{max-width:200px}.category-name.jsx-d0ec660a7573a140{font-weight:500;color:#333;font-size:.9rem}.amount-cell.jsx-d0ec660a7573a140{text-align:right;font-weight:600;color:#2d3748;white-space:nowrap}.vendor-cell.jsx-d0ec660a7573a140{max-width:150px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;color:#666}.payment-cell.jsx-d0ec660a7573a140{white-space:nowrap}.payment-badge.jsx-d0ec660a7573a140{padding:.25rem .75rem;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;font-size:.8rem;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.payment-badge.cash.jsx-d0ec660a7573a140{background:#e6fffa;color:#047857;border:1px solid#a7f3d0}.payment-badge.online.jsx-d0ec660a7573a140{background:#eff6ff;color:#1e40af;border:1px solid#93c5fd}.description-cell.jsx-d0ec660a7573a140{max-width:200px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.description-text.jsx-d0ec660a7573a140{color:#666;font-size:.9rem;cursor:help}.actions-cell.jsx-d0ec660a7573a140{width:100px}.action-buttons.jsx-d0ec660a7573a140{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:.5rem}.btn.jsx-d0ec660a7573a140{padding:.5rem;border:none;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;cursor:pointer;font-size:.9rem;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.btn-edit.jsx-d0ec660a7573a140{background:#fff3cd;border:1px solid#ffeaa7}.btn-edit.jsx-d0ec660a7573a140:hover{background:#ffecb5}.btn-delete.jsx-d0ec660a7573a140{background:#f8d7da;border:1px solid#f5c6cb}.btn-delete.jsx-d0ec660a7573a140:hover{background:#f1b0b7}.pagination.jsx-d0ec660a7573a140{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:.5rem;padding:1.5rem;background:#f8f9fa;border-top:1px solid#e0e0e0}.pagination-info.jsx-d0ec660a7573a140{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:.25rem}.pagination-btn.jsx-d0ec660a7573a140{padding:.5rem .75rem;border:1px solid#ddd;background:#fff;color:#666;cursor:pointer;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:.9rem;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.pagination-btn.jsx-d0ec660a7573a140:hover:not(:disabled){background:#f8f9fa;border-color:#bbb}.pagination-btn.jsx-d0ec660a7573a140:disabled{opacity:.5;cursor:not-allowed}.pagination-btn.active.jsx-d0ec660a7573a140{background:#4285f4;color:white;border-color:#4285f4}@media(max-width:768px){.list-header.jsx-d0ec660a7573a140{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:.5rem;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start}.expense-table.jsx-d0ec660a7573a140{font-size:.8rem}.expense-table.jsx-d0ec660a7573a140 th.jsx-d0ec660a7573a140,.expense-table.jsx-d0ec660a7573a140 td.jsx-d0ec660a7573a140{padding:.5rem}.category-cell.jsx-d0ec660a7573a140,.description-cell.jsx-d0ec660a7573a140{max-width:120px}.vendor-cell.jsx-d0ec660a7573a140{max-width:100px}.pagination.jsx-d0ec660a7573a140{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:.25rem}.pagination-btn.jsx-d0ec660a7573a140{padding:.4rem .6rem;font-size:.8rem}}"})]})}function j(){(0,b.useRouter)();let[e,a]=(0,d.useState)([]),[s,r]=(0,d.useState)(!1),[o,l]=(0,d.useState)(""),[j,g]=(0,d.useState)(""),[u,h]=(0,d.useState)(!1),[w,y]=(0,d.useState)(null),[k,v]=(0,d.useState)({category:"",paymentMode:"",startDate:"",endDate:""}),[N,z]=(0,d.useState)({totalExpenses:0,totalAmount:0,todayAmount:0,monthAmount:0});(0,d.useEffect)(()=>{(async()=>{await C(),await E()})()},[]);let C=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;r(!0),l("");try{let s=await m.ZP.getExpenses(e);s.success?a(s.expenses):l(s.error)}catch(e){console.error("Error loading expenses:",e),l("Failed to load expenses")}finally{r(!1)}},E=async()=>{try{let e=new Date;e.getFullYear(),e.getMonth();let a=await m.ZP.getDailyExpenseReport(e.toISOString().split("T")[0]),s=await m.ZP.getMonthlyExpenseReport(e.getFullYear(),e.getMonth()+1),t=await m.ZP.getExpenses({});z({totalExpenses:t.success?t.total:0,totalAmount:t.success?t.expenses.reduce((e,a)=>e+a.amount,0):0,todayAmount:a.success?a.summary.totalAmount:0,monthAmount:s.success?s.summary.totalAmount:0})}catch(e){console.error("Error loading quick stats:",e)}},D=async e=>{r(!0),l(""),g("");try{let a;(a=w?await m.ZP.updateExpense(w.id,e,"current-user"):await m.ZP.createExpense(e,"current-user")).success?(g(a.message),h(!1),y(null),C(),E()):l(a.error)}catch(e){console.error("Error saving expense:",e),l("Failed to save expense")}finally{r(!1)}},M=async e=>{if(confirm("Are you sure you want to delete this expense?")){r(!0),l(""),g("");try{let a=await m.ZP.deleteExpense(e);a.success?(g(a.message),C(),E()):l(a.error)}catch(e){console.error("Error deleting expense:",e),l("Failed to delete expense")}finally{r(!1)}}},S=e=>{v(e),C(e)},A=()=>{l(""),g("")},F=()=>{h(!1),y(null),A()};return(0,t.jsxs)(x.Z,{children:[(0,t.jsxs)(n(),{children:[(0,t.jsx)("title",{className:"jsx-149b2bd0125dbf7f",children:"Expense Management - Infrastructure Pole Deployment"}),(0,t.jsx)("meta",{name:"description",content:"Manage expenses for infrastructure pole deployment operations",className:"jsx-149b2bd0125dbf7f"})]}),(0,t.jsxs)("div",{className:"jsx-149b2bd0125dbf7f expense-management",children:[(0,t.jsxs)("div",{className:"jsx-149b2bd0125dbf7f page-header",children:[(0,t.jsxs)("div",{className:"jsx-149b2bd0125dbf7f header-content",children:[(0,t.jsx)("h1",{className:"jsx-149b2bd0125dbf7f",children:"Expense Management"}),(0,t.jsx)("p",{className:"jsx-149b2bd0125dbf7f",children:"Track and manage expenses for infrastructure pole deployment operations"})]}),(0,t.jsxs)("div",{className:"jsx-149b2bd0125dbf7f header-actions",children:[(0,t.jsx)(c(),{href:"/expenses/reports",className:"btn btn-outline",children:"View Reports"}),(0,t.jsx)("button",{onClick:()=>h(!0),disabled:s,className:"jsx-149b2bd0125dbf7f btn btn-primary",children:"Add New Expense"})]})]}),(0,t.jsx)("div",{className:"jsx-149b2bd0125dbf7f quick-stats",children:(0,t.jsxs)("div",{className:"jsx-149b2bd0125dbf7f stats-grid",children:[(0,t.jsxs)("div",{className:"jsx-149b2bd0125dbf7f stat-card",children:[(0,t.jsx)("div",{className:"jsx-149b2bd0125dbf7f stat-value",children:N.totalExpenses}),(0,t.jsx)("div",{className:"jsx-149b2bd0125dbf7f stat-label",children:"Total Expenses"})]}),(0,t.jsxs)("div",{className:"jsx-149b2bd0125dbf7f stat-card",children:[(0,t.jsx)("div",{className:"jsx-149b2bd0125dbf7f stat-value",children:m.ZP.formatCurrency(N.totalAmount)}),(0,t.jsx)("div",{className:"jsx-149b2bd0125dbf7f stat-label",children:"Total Amount"})]}),(0,t.jsxs)("div",{className:"jsx-149b2bd0125dbf7f stat-card highlight",children:[(0,t.jsx)("div",{className:"jsx-149b2bd0125dbf7f stat-value",children:m.ZP.formatCurrency(N.todayAmount)}),(0,t.jsx)("div",{className:"jsx-149b2bd0125dbf7f stat-label",children:"Today's Expenses"})]}),(0,t.jsxs)("div",{className:"jsx-149b2bd0125dbf7f stat-card",children:[(0,t.jsx)("div",{className:"jsx-149b2bd0125dbf7f stat-value",children:m.ZP.formatCurrency(N.monthAmount)}),(0,t.jsx)("div",{className:"jsx-149b2bd0125dbf7f stat-label",children:"This Month"})]})]})}),o&&(0,t.jsxs)("div",{className:"jsx-149b2bd0125dbf7f alert alert-error",children:[(0,t.jsx)("span",{className:"jsx-149b2bd0125dbf7f",children:o}),(0,t.jsx)("button",{onClick:A,className:"jsx-149b2bd0125dbf7f alert-close",children:"\xd7"})]}),j&&(0,t.jsxs)("div",{className:"jsx-149b2bd0125dbf7f alert alert-success",children:[(0,t.jsx)("span",{className:"jsx-149b2bd0125dbf7f",children:j}),(0,t.jsx)("button",{onClick:A,className:"jsx-149b2bd0125dbf7f alert-close",children:"\xd7"})]}),u&&(0,t.jsxs)("div",{className:"jsx-149b2bd0125dbf7f form-section",children:[(0,t.jsxs)("div",{className:"jsx-149b2bd0125dbf7f section-header",children:[(0,t.jsx)("h2",{className:"jsx-149b2bd0125dbf7f",children:w?"Edit Expense":"Add New Expense"}),(0,t.jsx)("button",{onClick:F,className:"jsx-149b2bd0125dbf7f btn btn-outline btn-sm",children:"Cancel"})]}),(0,t.jsx)(f,{initialData:w,onSubmit:D,onCancel:F,loading:s})]}),(0,t.jsxs)("div",{className:"jsx-149b2bd0125dbf7f filters-section",children:[(0,t.jsx)("div",{className:"jsx-149b2bd0125dbf7f filters-header",children:(0,t.jsx)("h3",{className:"jsx-149b2bd0125dbf7f",children:"Filter Expenses"})}),(0,t.jsxs)("div",{className:"jsx-149b2bd0125dbf7f filters-grid",children:[(0,t.jsxs)("div",{className:"jsx-149b2bd0125dbf7f filter-group",children:[(0,t.jsx)("label",{htmlFor:"category-filter",className:"jsx-149b2bd0125dbf7f filter-label",children:"Category"}),(0,t.jsxs)("select",{id:"category-filter",value:k.category,onChange:e=>S({...k,category:e.target.value}),className:"jsx-149b2bd0125dbf7f filter-select",children:[(0,t.jsx)("option",{value:"",className:"jsx-149b2bd0125dbf7f",children:"All Categories"}),Object.entries(m._O).map(e=>{let[a,s]=e;return(0,t.jsx)("option",{value:a,className:"jsx-149b2bd0125dbf7f",children:s},a)})]})]}),(0,t.jsxs)("div",{className:"jsx-149b2bd0125dbf7f filter-group",children:[(0,t.jsx)("label",{htmlFor:"payment-filter",className:"jsx-149b2bd0125dbf7f filter-label",children:"Payment Mode"}),(0,t.jsxs)("select",{id:"payment-filter",value:k.paymentMode,onChange:e=>S({...k,paymentMode:e.target.value}),className:"jsx-149b2bd0125dbf7f filter-select",children:[(0,t.jsx)("option",{value:"",className:"jsx-149b2bd0125dbf7f",children:"All Payment Modes"}),Object.entries(m.f7).map(e=>{let[a,s]=e;return(0,t.jsx)("option",{value:a,className:"jsx-149b2bd0125dbf7f",children:s},a)})]})]}),(0,t.jsxs)("div",{className:"jsx-149b2bd0125dbf7f filter-group",children:[(0,t.jsx)("label",{htmlFor:"start-date-filter",className:"jsx-149b2bd0125dbf7f filter-label",children:"From Date"}),(0,t.jsx)("input",{type:"date",id:"start-date-filter",value:k.startDate,onChange:e=>S({...k,startDate:e.target.value}),className:"jsx-149b2bd0125dbf7f filter-input"})]}),(0,t.jsxs)("div",{className:"jsx-149b2bd0125dbf7f filter-group",children:[(0,t.jsx)("label",{htmlFor:"end-date-filter",className:"jsx-149b2bd0125dbf7f filter-label",children:"To Date"}),(0,t.jsx)("input",{type:"date",id:"end-date-filter",value:k.endDate,onChange:e=>S({...k,endDate:e.target.value}),className:"jsx-149b2bd0125dbf7f filter-input"})]}),(0,t.jsx)("div",{className:"jsx-149b2bd0125dbf7f filter-actions",children:(0,t.jsx)("button",{onClick:()=>S({category:"",paymentMode:"",startDate:"",endDate:""}),className:"jsx-149b2bd0125dbf7f btn btn-outline btn-sm",children:"Clear Filters"})})]})]}),(0,t.jsx)("div",{className:"jsx-149b2bd0125dbf7f list-section",children:(0,t.jsx)(p,{expenses:e,loading:s,onEdit:e=>{y(e),h(!0)},onDelete:M})})]}),(0,t.jsx)(i(),{id:"149b2bd0125dbf7f",children:".expense-management.jsx-149b2bd0125dbf7f{padding:2rem;max-width:1400px;margin:0 auto}.page-header.jsx-149b2bd0125dbf7f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid#e0e0e0}.header-content.jsx-149b2bd0125dbf7f h1.jsx-149b2bd0125dbf7f{margin:0 0 .5rem 0;color:#333;font-size:2.5rem;font-weight:600}.header-content.jsx-149b2bd0125dbf7f p.jsx-149b2bd0125dbf7f{margin:0;color:#666;font-size:1.1rem}.header-actions.jsx-149b2bd0125dbf7f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:1rem;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.quick-stats.jsx-149b2bd0125dbf7f{margin-bottom:2rem}.stats-grid.jsx-149b2bd0125dbf7f{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.stat-card.jsx-149b2bd0125dbf7f{background:#fff;padding:1.5rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.1);-moz-box-shadow:0 2px 4px rgba(0,0,0,.1);box-shadow:0 2px 4px rgba(0,0,0,.1);text-align:center;border:1px solid#e0e0e0}.stat-card.highlight.jsx-149b2bd0125dbf7f{background:-webkit-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:-moz-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:-o-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white}.stat-value.jsx-149b2bd0125dbf7f{font-size:2rem;font-weight:600;margin-bottom:.5rem}.stat-label.jsx-149b2bd0125dbf7f{color:#666;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.stat-card.highlight.jsx-149b2bd0125dbf7f .stat-label.jsx-149b2bd0125dbf7f{color:rgba(255,255,255,.9)}.alert.jsx-149b2bd0125dbf7f{padding:1rem;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;margin-bottom:1rem;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.alert-error.jsx-149b2bd0125dbf7f{background-color:#fee;color:#c53030;border:1px solid#fed7d7}.alert-success.jsx-149b2bd0125dbf7f{background-color:#f0fff4;color:#2f855a;border:1px solid#c6f6d5}.alert-close.jsx-149b2bd0125dbf7f{background:none;border:none;font-size:1.2rem;cursor:pointer;padding:0;margin-left:1rem}.form-section.jsx-149b2bd0125dbf7f,.filters-section.jsx-149b2bd0125dbf7f,.list-section.jsx-149b2bd0125dbf7f{background:#fff;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.1);-moz-box-shadow:0 2px 4px rgba(0,0,0,.1);box-shadow:0 2px 4px rgba(0,0,0,.1);margin-bottom:2rem;overflow:hidden}.section-header.jsx-149b2bd0125dbf7f,.filters-header.jsx-149b2bd0125dbf7f{background:#f8f9fa;padding:1rem 1.5rem;border-bottom:1px solid#e0e0e0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.section-header.jsx-149b2bd0125dbf7f h2.jsx-149b2bd0125dbf7f,.filters-header.jsx-149b2bd0125dbf7f h3.jsx-149b2bd0125dbf7f{margin:0;color:#333;font-size:1.5rem;font-weight:600}.filters-grid.jsx-149b2bd0125dbf7f{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;padding:1.5rem;-webkit-box-align:end;-webkit-align-items:end;-moz-box-align:end;-ms-flex-align:end;align-items:end}.filter-group.jsx-149b2bd0125dbf7f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.filter-label.jsx-149b2bd0125dbf7f{margin-bottom:.5rem;color:#333;font-weight:500;font-size:.9rem}.filter-select.jsx-149b2bd0125dbf7f,.filter-input.jsx-149b2bd0125dbf7f{padding:.75rem;border:1px solid#ddd;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:1rem;background:#fff}.filter-select.jsx-149b2bd0125dbf7f:focus,.filter-input.jsx-149b2bd0125dbf7f:focus{outline:none;border-color:#4285f4;-webkit-box-shadow:0 0 0 2px rgba(66,133,244,.2);-moz-box-shadow:0 0 0 2px rgba(66,133,244,.2);box-shadow:0 0 0 2px rgba(66,133,244,.2)}.filter-actions.jsx-149b2bd0125dbf7f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-webkit-align-items:end;-moz-box-align:end;-ms-flex-align:end;align-items:end}.btn.jsx-149b2bd0125dbf7f{padding:.75rem 1.5rem;border:none;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;text-decoration:none;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.btn.jsx-149b2bd0125dbf7f:disabled{opacity:.6;cursor:not-allowed}.btn-primary.jsx-149b2bd0125dbf7f{background:#4285f4;color:white}.btn-primary.jsx-149b2bd0125dbf7f:hover:not(:disabled){background:#3367d6}.btn-outline.jsx-149b2bd0125dbf7f{background:transparent;color:#4285f4;border:1px solid#4285f4}.btn-outline.jsx-149b2bd0125dbf7f:hover:not(:disabled){background:#4285f4;color:white}.btn-sm.jsx-149b2bd0125dbf7f{padding:.5rem 1rem;font-size:.9rem}@media(max-width:768px){.expense-management.jsx-149b2bd0125dbf7f{padding:1rem}.page-header.jsx-149b2bd0125dbf7f{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:1rem;-webkit-box-align:stretch;-webkit-align-items:stretch;-moz-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}.header-actions.jsx-149b2bd0125dbf7f{-webkit-box-pack:stretch;-webkit-justify-content:stretch;-moz-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch}.stats-grid.jsx-149b2bd0125dbf7f{grid-template-columns:repeat(2,1fr)}.filters-grid.jsx-149b2bd0125dbf7f{grid-template-columns:1fr}}"})]})}}},function(e){e.O(0,[814,675,314,919,888,774,179],function(){return e(e.s=2479)}),_N_E=e.O()}]);