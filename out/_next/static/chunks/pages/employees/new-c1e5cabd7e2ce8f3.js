(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[420],{4461:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/employees/new",function(){return r(7322)}])},4154:function(e,a,r){"use strict";var s=r(5893),o=r(645),n=r.n(o),i=r(7294),d=r(4069);a.Z=e=>{let{initialData:a=null,onSubmit:r,onCancel:o,loading:t=!1,mode:l="create"}=e,[f,x]=(0,i.useState)((0,d.CW)()),[m,c]=(0,i.useState)({}),[p,h]=(0,i.useState)(!1);(0,i.useEffect)(()=>{a?x({name:a.name||"",aadhar_id:a.aadhar_id||"",joining_date:a.joining_date?"string"==typeof a.joining_date?a.joining_date:a.joining_date.toISOString().split("T")[0]:"",age:a.age||""}):x((0,d.CW)())},[a]);let j=e=>{let{name:a,value:r}=e.target;x(e=>({...e,[a]:r})),m[a]&&c(e=>({...e,[a]:""}))},b=()=>{let e=(0,d.uO)(f);return c(e.errors),e.isValid},g=async e=>{if(e.preventDefault(),b()){h(!0);try{await r(f)}catch(e){console.error("Form submission error:",e),e.message.includes("Validation failed:")?c({general:e.message.replace("Validation failed:","").trim()}):e.message.includes("Aadhar ID already exists")?c({aadhar_id:"This Aadhar ID is already registered with another employee"}):c({general:e.message||"An error occurred while saving employee data"})}finally{h(!1)}}};return(0,s.jsxs)("div",{className:"jsx-5239f07a3641fe55 employee-form",children:[(0,s.jsxs)("form",{onSubmit:g,className:"jsx-5239f07a3641fe55 form",children:[(0,s.jsxs)("div",{className:"jsx-5239f07a3641fe55 form-header",children:[(0,s.jsx)("h2",{className:"jsx-5239f07a3641fe55",children:"create"===l?"Add New Employee":"Update Employee"}),(0,s.jsx)("p",{className:"jsx-5239f07a3641fe55 form-description",children:"Fill in the employee details below. Fields marked with * are required."})]}),m.general&&(0,s.jsxs)("div",{className:"jsx-5239f07a3641fe55 error-banner",children:[(0,s.jsx)("strong",{className:"jsx-5239f07a3641fe55",children:"Error:"})," ",m.general]}),(0,s.jsxs)("div",{className:"jsx-5239f07a3641fe55 form-group",children:[(0,s.jsx)("label",{htmlFor:"name",className:"jsx-5239f07a3641fe55 form-label",children:"Full Name *"}),(0,s.jsx)("input",{type:"text",id:"name",name:"name",value:f.name,onChange:j,placeholder:"Enter employee's full name",required:!0,className:"jsx-5239f07a3641fe55 "+"form-input ".concat(m.name?"error":"")}),m.name&&(0,s.jsx)("div",{className:"jsx-5239f07a3641fe55 error-message",children:m.name})]}),(0,s.jsxs)("div",{className:"jsx-5239f07a3641fe55 form-group",children:[(0,s.jsx)("label",{htmlFor:"aadhar_id",className:"jsx-5239f07a3641fe55 form-label",children:"Aadhar ID (Optional)"}),(0,s.jsx)("input",{type:"text",id:"aadhar_id",name:"aadhar_id",value:f.aadhar_id,onChange:e=>{let a=e.target.value.replace(/\D/g,"");a.length>12&&(a=a.substring(0,12)),x(e=>({...e,aadhar_id:a})),m.aadhar_id&&c(e=>({...e,aadhar_id:""}))},placeholder:"Enter 12-digit Aadhar number",maxLength:"12",className:"jsx-5239f07a3641fe55 "+"form-input ".concat(m.aadhar_id?"error":"")}),m.aadhar_id&&(0,s.jsx)("div",{className:"jsx-5239f07a3641fe55 error-message",children:m.aadhar_id}),(0,s.jsx)("div",{className:"jsx-5239f07a3641fe55 field-hint",children:"12-digit Aadhar number (optional but recommended for verification)"})]}),(0,s.jsxs)("div",{className:"jsx-5239f07a3641fe55 form-group",children:[(0,s.jsx)("label",{htmlFor:"joining_date",className:"jsx-5239f07a3641fe55 form-label",children:"Joining Date *"}),(0,s.jsx)("input",{type:"date",id:"joining_date",name:"joining_date",value:f.joining_date,onChange:j,max:new Date().toISOString().split("T")[0],required:!0,className:"jsx-5239f07a3641fe55 "+"form-input ".concat(m.joining_date?"error":"")}),m.joining_date&&(0,s.jsx)("div",{className:"jsx-5239f07a3641fe55 error-message",children:m.joining_date}),(0,s.jsx)("div",{className:"jsx-5239f07a3641fe55 field-hint",children:"Date when employee joined the organization"})]}),(0,s.jsxs)("div",{className:"jsx-5239f07a3641fe55 form-group",children:[(0,s.jsx)("label",{htmlFor:"age",className:"jsx-5239f07a3641fe55 form-label",children:"Age (Optional)"}),(0,s.jsx)("input",{type:"text",id:"age",name:"age",value:f.age,onChange:e=>{let a=e.target.value.replace(/\D/g,"");a.length>2&&(a=a.substring(0,2)),x(e=>({...e,age:a})),m.age&&c(e=>({...e,age:""}))},placeholder:"Enter age in years",maxLength:"2",className:"jsx-5239f07a3641fe55 "+"form-input ".concat(m.age?"error":"")}),m.age&&(0,s.jsx)("div",{className:"jsx-5239f07a3641fe55 error-message",children:m.age}),(0,s.jsx)("div",{className:"jsx-5239f07a3641fe55 field-hint",children:"Age in years (18-65)"})]}),(0,s.jsxs)("div",{className:"jsx-5239f07a3641fe55 form-actions",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{o&&o()},disabled:p||t,className:"jsx-5239f07a3641fe55 btn-secondary",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:p||t,className:"jsx-5239f07a3641fe55 btn-primary",children:p||t?"create"===l?"Adding Employee...":"Updating Employee...":"create"===l?"Add Employee":"Update Employee"})]})]}),(0,s.jsx)(n(),{id:"5239f07a3641fe55",children:".employee-form.jsx-5239f07a3641fe55{max-width:600px;margin:0 auto;padding:20px}.form.jsx-5239f07a3641fe55{background:white;padding:30px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;-webkit-box-shadow:0 2px 10px rgba(0,0,0,.1);-moz-box-shadow:0 2px 10px rgba(0,0,0,.1);box-shadow:0 2px 10px rgba(0,0,0,.1)}.form-header.jsx-5239f07a3641fe55{margin-bottom:30px;text-align:center}.form-header.jsx-5239f07a3641fe55 h2.jsx-5239f07a3641fe55{margin:0 0 10px 0;color:#333;font-size:1.5rem}.form-description.jsx-5239f07a3641fe55{margin:0;color:#666;font-size:.9rem}.error-banner.jsx-5239f07a3641fe55{background:#fee;color:#c33;padding:12px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;margin-bottom:20px;border:1px solid#fcc}.form-group.jsx-5239f07a3641fe55{margin-bottom:20px}.form-label.jsx-5239f07a3641fe55{display:block;margin-bottom:6px;font-weight:500;color:#333;font-size:.9rem}.form-input.jsx-5239f07a3641fe55{width:100%;padding:12px;border:1px solid#ddd;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:14px;-webkit-transition:border-color.2s,box-shadow.2s;-moz-transition:border-color.2s,box-shadow.2s;-o-transition:border-color.2s,box-shadow.2s;transition:border-color.2s,box-shadow.2s}.form-input.jsx-5239f07a3641fe55:focus{outline:none;border-color:#007cba;-webkit-box-shadow:0 0 0 2px rgba(0,124,186,.2);-moz-box-shadow:0 0 0 2px rgba(0,124,186,.2);box-shadow:0 0 0 2px rgba(0,124,186,.2)}.form-input.error.jsx-5239f07a3641fe55{border-color:#dc3545}.form-input.error.jsx-5239f07a3641fe55:focus{border-color:#dc3545;-webkit-box-shadow:0 0 0 2px rgba(220,53,69,.2);-moz-box-shadow:0 0 0 2px rgba(220,53,69,.2);box-shadow:0 0 0 2px rgba(220,53,69,.2)}.error-message.jsx-5239f07a3641fe55{color:#dc3545;font-size:.8rem;margin-top:4px}.field-hint.jsx-5239f07a3641fe55{color:#666;font-size:.8rem;margin-top:4px}.form-actions.jsx-5239f07a3641fe55{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:12px;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-top:30px;padding-top:20px;border-top:1px solid#eee}.btn-primary.jsx-5239f07a3641fe55,.btn-secondary.jsx-5239f07a3641fe55{padding:12px 24px;border:none;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:14px;font-weight:500;cursor:pointer;-webkit-transition:background-color.2s,-webkit-transform.1s;-moz-transition:background-color.2s,-moz-transform.1s;-o-transition:background-color.2s,-o-transform.1s;transition:background-color.2s,-webkit-transform.1s;transition:background-color.2s,-moz-transform.1s;transition:background-color.2s,-o-transform.1s;transition:background-color.2s,transform.1s}.btn-primary.jsx-5239f07a3641fe55{background:#007cba;color:white}.btn-primary.jsx-5239f07a3641fe55:hover:not(:disabled){background:#005a87;-webkit-transform:translatey(-1px);-moz-transform:translatey(-1px);-ms-transform:translatey(-1px);-o-transform:translatey(-1px);transform:translatey(-1px)}.btn-secondary.jsx-5239f07a3641fe55{background:#f8f9fa;color:#666;border:1px solid#ddd}.btn-secondary.jsx-5239f07a3641fe55:hover:not(:disabled){background:#e9ecef;-webkit-transform:translatey(-1px);-moz-transform:translatey(-1px);-ms-transform:translatey(-1px);-o-transform:translatey(-1px);transform:translatey(-1px)}.btn-primary.jsx-5239f07a3641fe55:disabled,.btn-secondary.jsx-5239f07a3641fe55:disabled{opacity:.6;cursor:not-allowed;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}@media(max-width:768px){.employee-form.jsx-5239f07a3641fe55{padding:10px}.form.jsx-5239f07a3641fe55{padding:20px}.form-actions.jsx-5239f07a3641fe55{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.btn-primary.jsx-5239f07a3641fe55,.btn-secondary.jsx-5239f07a3641fe55{width:100%}}"})]})}},7322:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return p}});var s=r(5893),o=r(645),n=r.n(o),i=r(7294),d=r(1163),t=r(6838),l=r(4154),f=r(5006),x=r(8804),m=r(1664),c=r.n(m);function p(){let[e,a]=(0,i.useState)(!1),r=(0,d.useRouter)(),o=async e=>{try{a(!0);let s=await x.Z.createEmployee(e);alert('Employee "'.concat(s.name,'" has been successfully added!')),r.push("/employees")}catch(e){throw console.error("Error creating employee:",e),e}finally{a(!1)}};return(0,s.jsxs)(t.Z,{title:"Add New Employee - AmitojInfra",description:"Add a new employee to the organization",children:[(0,s.jsx)(f.Z,{children:(0,s.jsxs)("div",{className:"jsx-841eea4f9fe5559d new-employee-page",children:[(0,s.jsxs)("div",{className:"jsx-841eea4f9fe5559d page-header",children:[(0,s.jsx)("div",{className:"jsx-841eea4f9fe5559d breadcrumb",children:(0,s.jsx)(c(),{href:"/employees",className:"breadcrumb-link",children:"â† Back to Employees"})}),(0,s.jsxs)("div",{className:"jsx-841eea4f9fe5559d header-content",children:[(0,s.jsx)("h1",{className:"jsx-841eea4f9fe5559d",children:"Add New Employee"}),(0,s.jsx)("p",{className:"jsx-841eea4f9fe5559d",children:"Enter the details of the new employee below"})]})]}),(0,s.jsx)("div",{className:"jsx-841eea4f9fe5559d form-section",children:(0,s.jsx)(l.Z,{mode:"create",onSubmit:o,onCancel:()=>{r.push("/employees")},loading:e})}),(0,s.jsxs)("div",{className:"jsx-841eea4f9fe5559d help-section",children:[(0,s.jsxs)("div",{className:"jsx-841eea4f9fe5559d help-card",children:[(0,s.jsx)("h3",{className:"jsx-841eea4f9fe5559d",children:"\uD83D\uDCCB Required Information"}),(0,s.jsxs)("ul",{className:"jsx-841eea4f9fe5559d",children:[(0,s.jsxs)("li",{className:"jsx-841eea4f9fe5559d",children:[(0,s.jsx)("strong",{className:"jsx-841eea4f9fe5559d",children:"Full Name:"})," Complete name of the employee"]}),(0,s.jsxs)("li",{className:"jsx-841eea4f9fe5559d",children:[(0,s.jsx)("strong",{className:"jsx-841eea4f9fe5559d",children:"Joining Date:"})," Date when employee joined the organization"]})]})]}),(0,s.jsxs)("div",{className:"jsx-841eea4f9fe5559d help-card",children:[(0,s.jsx)("h3",{className:"jsx-841eea4f9fe5559d",children:"\uD83D\uDCC4 Optional Information"}),(0,s.jsxs)("ul",{className:"jsx-841eea4f9fe5559d",children:[(0,s.jsxs)("li",{className:"jsx-841eea4f9fe5559d",children:[(0,s.jsx)("strong",{className:"jsx-841eea4f9fe5559d",children:"Aadhar ID:"})," 12-digit Aadhar number for verification"]}),(0,s.jsxs)("li",{className:"jsx-841eea4f9fe5559d",children:[(0,s.jsx)("strong",{className:"jsx-841eea4f9fe5559d",children:"Age:"})," Current age of the employee (18-65 years)"]})]})]}),(0,s.jsxs)("div",{className:"jsx-841eea4f9fe5559d help-card",children:[(0,s.jsx)("h3",{className:"jsx-841eea4f9fe5559d",children:"\uD83D\uDCA1 Tips"}),(0,s.jsxs)("ul",{className:"jsx-841eea4f9fe5559d",children:[(0,s.jsx)("li",{className:"jsx-841eea4f9fe5559d",children:"Double-check the spelling of the employee's name"}),(0,s.jsx)("li",{className:"jsx-841eea4f9fe5559d",children:"Aadhar ID helps with unique identification"}),(0,s.jsx)("li",{className:"jsx-841eea4f9fe5559d",children:"Joining date cannot be in the future"}),(0,s.jsx)("li",{className:"jsx-841eea4f9fe5559d",children:"All information can be updated later if needed"})]})]})]})]})}),(0,s.jsx)(n(),{id:"841eea4f9fe5559d",children:".new-employee-page.jsx-841eea4f9fe5559d{max-width:1e3px;margin:0 auto;padding:20px}.page-header.jsx-841eea4f9fe5559d{margin-bottom:30px}.breadcrumb.jsx-841eea4f9fe5559d{margin-bottom:15px}.breadcrumb-link.jsx-841eea4f9fe5559d{color:#007cba;text-decoration:none;font-size:14px;font-weight:500}.breadcrumb-link.jsx-841eea4f9fe5559d:hover{text-decoration:underline}.header-content.jsx-841eea4f9fe5559d h1.jsx-841eea4f9fe5559d{margin:0 0 8px 0;color:#1f2937;font-size:1.8rem}.header-content.jsx-841eea4f9fe5559d p.jsx-841eea4f9fe5559d{margin:0;color:#6b7280;font-size:1rem}.form-section.jsx-841eea4f9fe5559d{margin-bottom:40px}.help-section.jsx-841eea4f9fe5559d{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-top:40px}.help-card.jsx-841eea4f9fe5559d{background:white;padding:20px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.1);-moz-box-shadow:0 2px 4px rgba(0,0,0,.1);box-shadow:0 2px 4px rgba(0,0,0,.1);border-left:4px solid#007cba}.help-card.jsx-841eea4f9fe5559d h3.jsx-841eea4f9fe5559d{margin:0 0 15px 0;color:#1f2937;font-size:1rem}.help-card.jsx-841eea4f9fe5559d ul.jsx-841eea4f9fe5559d{margin:0;padding-left:20px}.help-card.jsx-841eea4f9fe5559d li.jsx-841eea4f9fe5559d{margin-bottom:8px;color:#4b5563;font-size:.9rem;line-height:1.4}.help-card.jsx-841eea4f9fe5559d li.jsx-841eea4f9fe5559d strong.jsx-841eea4f9fe5559d{color:#1f2937}@media(max-width:768px){.new-employee-page.jsx-841eea4f9fe5559d{padding:10px}.help-section.jsx-841eea4f9fe5559d{grid-template-columns:1fr}.header-content.jsx-841eea4f9fe5559d h1.jsx-841eea4f9fe5559d{font-size:1.5rem}}"})]})}}},function(e){e.O(0,[675,347,804,888,774,179],function(){return e(e.s=4461)}),_N_E=e.O()}]);