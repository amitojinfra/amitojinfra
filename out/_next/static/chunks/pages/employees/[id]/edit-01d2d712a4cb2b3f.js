(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[308],{1844:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/employees/[id]/edit",function(){return t(7502)}])},7502:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return p}});var n=t(5893),o=t(645),i=t.n(o),c=t(7294),r=t(1163),s=t(6838),l=t(4154),d=t(5006),x=t(8804),m=t(1664),b=t.n(m);function p(){let[e,a]=(0,c.useState)(null),[t,o]=(0,c.useState)(!0),[m,p]=(0,c.useState)(!1),[f,j]=(0,c.useState)(null),g=(0,r.useRouter)(),{id:h}=g.query;(0,c.useEffect)(()=>{h&&u(h)},[h]);let u=async e=>{try{o(!0),j(null);let t=await x.Z.getEmployee(e);if(!t){j("Employee not found");return}a(t)}catch(e){console.error("Error loading employee:",e),j(e.message||"Failed to load employee data")}finally{o(!1)}},y=async e=>{try{p(!0),await x.Z.updateEmployee(h,e),alert('Employee "'.concat(e.name,'" has been successfully updated!')),g.push("/employees")}catch(e){throw console.error("Error updating employee:",e),e}finally{p(!1)}};return t?(0,n.jsx)(s.Z,{title:"Edit Employee - AmitojInfra",description:"Edit employee information",children:(0,n.jsx)(d.Z,{children:(0,n.jsxs)("div",{className:"loading-page",children:[(0,n.jsx)("div",{className:"loading-spinner"}),(0,n.jsx)("p",{children:"Loading employee data..."})]})})}):f?(0,n.jsx)(s.Z,{title:"Edit Employee - AmitojInfra",description:"Edit employee information",children:(0,n.jsx)(d.Z,{children:(0,n.jsx)("div",{className:"error-page",children:(0,n.jsxs)("div",{className:"error-content",children:[(0,n.jsx)("h1",{children:"Error Loading Employee"}),(0,n.jsx)("p",{children:f}),(0,n.jsxs)("div",{className:"error-actions",children:[(0,n.jsx)("button",{onClick:()=>u(h),className:"retry-btn",children:"Try Again"}),(0,n.jsx)(b(),{href:"/employees",className:"back-btn",children:"Back to Employees"})]})]})})})}):e?(0,n.jsxs)(s.Z,{title:"Edit ".concat(e.name," - AmitojInfra"),description:"Edit employee information",children:[(0,n.jsx)(d.Z,{children:(0,n.jsxs)("div",{className:"jsx-1914019c11c0abaa edit-employee-page",children:[(0,n.jsxs)("div",{className:"jsx-1914019c11c0abaa page-header",children:[(0,n.jsx)("div",{className:"jsx-1914019c11c0abaa breadcrumb",children:(0,n.jsx)(b(),{href:"/employees",className:"breadcrumb-link",children:"← Back to Employees"})}),(0,n.jsxs)("div",{className:"jsx-1914019c11c0abaa header-content",children:[(0,n.jsx)("h1",{className:"jsx-1914019c11c0abaa",children:"Edit Employee"}),(0,n.jsxs)("p",{className:"jsx-1914019c11c0abaa",children:["Update information for ",(0,n.jsx)("strong",{className:"jsx-1914019c11c0abaa",children:e.name})]})]})]}),(0,n.jsx)("div",{className:"jsx-1914019c11c0abaa employee-info-card",children:(0,n.jsxs)("div",{className:"jsx-1914019c11c0abaa info-grid",children:[(0,n.jsxs)("div",{className:"jsx-1914019c11c0abaa info-item",children:[(0,n.jsx)("span",{className:"jsx-1914019c11c0abaa info-label",children:"Employee ID:"}),(0,n.jsx)("span",{className:"jsx-1914019c11c0abaa info-value",children:e.id})]}),(0,n.jsxs)("div",{className:"jsx-1914019c11c0abaa info-item",children:[(0,n.jsx)("span",{className:"jsx-1914019c11c0abaa info-label",children:"Added on:"}),(0,n.jsx)("span",{className:"jsx-1914019c11c0abaa info-value",children:e.createdAt?new Date(e.createdAt.seconds?1e3*e.createdAt.seconds:e.createdAt).toLocaleDateString():"Unknown"})]}),e.updatedAt&&(0,n.jsxs)("div",{className:"jsx-1914019c11c0abaa info-item",children:[(0,n.jsx)("span",{className:"jsx-1914019c11c0abaa info-label",children:"Last updated:"}),(0,n.jsx)("span",{className:"jsx-1914019c11c0abaa info-value",children:new Date(e.updatedAt.seconds?1e3*e.updatedAt.seconds:e.updatedAt).toLocaleDateString()})]})]})}),(0,n.jsx)("div",{className:"jsx-1914019c11c0abaa form-section",children:(0,n.jsx)(l.Z,{initialData:e,mode:"update",onSubmit:y,onCancel:()=>{g.push("/employees")},loading:m})}),(0,n.jsx)("div",{className:"jsx-1914019c11c0abaa warning-section",children:(0,n.jsxs)("div",{className:"jsx-1914019c11c0abaa warning-card",children:[(0,n.jsx)("h3",{className:"jsx-1914019c11c0abaa",children:"⚠️ Important Notes"}),(0,n.jsxs)("ul",{className:"jsx-1914019c11c0abaa",children:[(0,n.jsx)("li",{className:"jsx-1914019c11c0abaa",children:'Changes will be saved immediately after clicking "Update Employee"'}),(0,n.jsx)("li",{className:"jsx-1914019c11c0abaa",children:"If you change the Aadhar ID, make sure it doesn't conflict with another employee"}),(0,n.jsx)("li",{className:"jsx-1914019c11c0abaa",children:"Employee ID cannot be changed once created"}),(0,n.jsx)("li",{className:"jsx-1914019c11c0abaa",children:"All changes are logged and tracked for audit purposes"})]})]})})]})}),(0,n.jsx)(i(),{id:"1914019c11c0abaa",children:".edit-employee-page.jsx-1914019c11c0abaa{max-width:1e3px;margin:0 auto;padding:20px}.loading-page.jsx-1914019c11c0abaa,.error-page.jsx-1914019c11c0abaa,.not-found-page.jsx-1914019c11c0abaa{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;min-height:400px;text-align:center;color:#666}.loading-spinner.jsx-1914019c11c0abaa{width:40px;height:40px;border:4px solid#f3f3f3;border-top:4px solid#007cba;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-animation:spin 1s linear infinite;-moz-animation:spin 1s linear infinite;-o-animation:spin 1s linear infinite;animation:spin 1s linear infinite;margin-bottom:20px}.error-content.jsx-1914019c11c0abaa,.not-found-content.jsx-1914019c11c0abaa{max-width:400px}.error-content.jsx-1914019c11c0abaa h1.jsx-1914019c11c0abaa,.not-found-content.jsx-1914019c11c0abaa h1.jsx-1914019c11c0abaa{color:#dc3545;margin-bottom:15px}.error-actions.jsx-1914019c11c0abaa{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:10px;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:20px}.retry-btn.jsx-1914019c11c0abaa,.back-btn.jsx-1914019c11c0abaa{padding:10px 20px;border:none;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:14px;cursor:pointer;text-decoration:none;display:inline-block}.retry-btn.jsx-1914019c11c0abaa{background:#007cba;color:white}.retry-btn.jsx-1914019c11c0abaa:hover{background:#005a87}.back-btn.jsx-1914019c11c0abaa{background:#6c757d;color:white}.back-btn.jsx-1914019c11c0abaa:hover{background:#5a6268}.page-header.jsx-1914019c11c0abaa{margin-bottom:30px}.breadcrumb.jsx-1914019c11c0abaa{margin-bottom:15px}.breadcrumb-link.jsx-1914019c11c0abaa{color:#007cba;text-decoration:none;font-size:14px;font-weight:500}.breadcrumb-link.jsx-1914019c11c0abaa:hover{text-decoration:underline}.header-content.jsx-1914019c11c0abaa h1.jsx-1914019c11c0abaa{margin:0 0 8px 0;color:#1f2937;font-size:1.8rem}.header-content.jsx-1914019c11c0abaa p.jsx-1914019c11c0abaa{margin:0;color:#6b7280;font-size:1rem}.employee-info-card.jsx-1914019c11c0abaa{background:white;padding:20px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.1);-moz-box-shadow:0 2px 4px rgba(0,0,0,.1);box-shadow:0 2px 4px rgba(0,0,0,.1);margin-bottom:20px;border-left:4px solid#17a2b8}.info-grid.jsx-1914019c11c0abaa{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:15px}.info-item.jsx-1914019c11c0abaa{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:8px 0}.info-label.jsx-1914019c11c0abaa{font-weight:500;color:#6b7280;font-size:.9rem}.info-value.jsx-1914019c11c0abaa{font-weight:500;color:#374151;font-size:.9rem}.form-section.jsx-1914019c11c0abaa{margin-bottom:40px}.warning-section.jsx-1914019c11c0abaa{margin-top:40px}.warning-card.jsx-1914019c11c0abaa{background:#fff3cd;padding:20px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;border:1px solid#ffeaa7;border-left:4px solid#ffc107}.warning-card.jsx-1914019c11c0abaa h3.jsx-1914019c11c0abaa{margin:0 0 15px 0;color:#856404;font-size:1rem}.warning-card.jsx-1914019c11c0abaa ul.jsx-1914019c11c0abaa{margin:0;padding-left:20px}.warning-card.jsx-1914019c11c0abaa li.jsx-1914019c11c0abaa{margin-bottom:8px;color:#856404;font-size:.9rem;line-height:1.4}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@media(max-width:768px){.edit-employee-page.jsx-1914019c11c0abaa{padding:10px}.info-grid.jsx-1914019c11c0abaa{grid-template-columns:1fr}.info-item.jsx-1914019c11c0abaa{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;gap:4px}.header-content.jsx-1914019c11c0abaa h1.jsx-1914019c11c0abaa{font-size:1.5rem}.error-actions.jsx-1914019c11c0abaa{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}"})]}):(0,n.jsx)(s.Z,{title:"Employee Not Found - AmitojInfra",description:"Employee not found",children:(0,n.jsx)(d.Z,{children:(0,n.jsx)("div",{className:"not-found-page",children:(0,n.jsxs)("div",{className:"not-found-content",children:[(0,n.jsx)("h1",{children:"Employee Not Found"}),(0,n.jsx)("p",{children:"The employee you're looking for doesn't exist or may have been deleted."}),(0,n.jsx)(b(),{href:"/employees",className:"back-btn",children:"Back to Employees"})]})})})})}}},function(e){e.O(0,[814,675,354,694,888,774,179],function(){return e(e.s=1844)}),_N_E=e.O()}]);