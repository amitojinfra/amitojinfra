(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[166],{30:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/attendance",function(){return t(89)}])},89:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return j}});var s=t(5893),d=t(645),n=t.n(d),r=t(7294),o=t(1163),i=t(9008),c=t.n(i),l=t(3615),x=t(8968),f=t(8804),b=t(5724),m=t(23),g=t(1664),p=t.n(g),h=t(3644),u=()=>{let{user:e,loading:a}=(0,l.a)(),[t,d]=(0,r.useState)([]),[n,o]=(0,r.useState)([]),[i,c]=(0,r.useState)(!0),[b,m]=(0,r.useState)(""),[g,u]=(0,r.useState)({});(0,r.useEffect)(()=>{a||j()},[a]);let j=async()=>{c(!0),m("");try{let a={firebaseConfigured:(0,h.CW)(),userAuthenticated:!!e,userEmail:(null==e?void 0:e.email)||"Not logged in",timestamp:new Date().toISOString()};if(console.log("Connection test details:",a),u(a),!a.firebaseConfigured)throw Error("Firebase is not configured. Please set up Firebase configuration first.");if(!a.userAuthenticated)throw Error("User is not authenticated. Please sign in first.");console.log("Testing employee service connection...");let t=[];try{t=await f.Z.getAllEmployees(),console.log("✅ Employees loaded:",t.length),d(t)}catch(e){throw console.error("❌ Employee service error:",e),Error("Employee service failed: ".concat(e.message))}console.log("Testing attendance service connection...");let s=[];try{s=await x.Z.getAllAttendance(),console.log("✅ Attendance records loaded:",s.length),o(s)}catch(e){throw console.error("❌ Attendance service error:",e),Error("Attendance service failed: ".concat(e.message))}0===t.length?m("⚠️ No employees found. Please add employees first to test attendance functionality."):console.log("✅ All tests passed successfully!")}catch(e){console.error("❌ Connection test failed:",e),m("Connection test failed: ".concat(e.message))}finally{c(!1)}};return i?(0,s.jsxs)("div",{style:{padding:"20px",textAlign:"center"},children:[(0,s.jsx)("div",{style:{marginBottom:"10px"},children:"Testing connections..."}),(0,s.jsx)("div",{children:"Loading..."})]}):(0,s.jsxs)("div",{style:{padding:"20px",border:"1px solid #ddd",borderRadius:"8px",margin:"20px",backgroundColor:b?"#fee":"#efe"},children:[(0,s.jsx)("h3",{children:"\uD83D\uDD17 Employee-Attendance Connection Test"}),b?(0,s.jsxs)("div",{style:{color:"#c33",marginBottom:"15px"},children:[(0,s.jsx)("strong",{children:"Error:"})," ",b]}):(0,s.jsx)("div",{style:{color:"#363",marginBottom:"15px"},children:(0,s.jsx)("strong",{children:"✅ Connection successful!"})}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{children:["\uD83D\uDC65 Employees (",t.length,")"]}),t.length>0?(0,s.jsxs)("ul",{style:{margin:0,paddingLeft:"20px"},children:[t.slice(0,5).map(e=>(0,s.jsxs)("li",{style:{marginBottom:"5px"},children:[(0,s.jsx)("strong",{children:e.name}),e.aadhar_id&&(0,s.jsxs)("span",{children:[" (Aadhar: ",e.aadhar_id.slice(0,4),"****",e.aadhar_id.slice(-4),")"]})]},e.id)),t.length>5&&(0,s.jsxs)("li",{style:{color:"#666",fontStyle:"italic"},children:["...and ",t.length-5," more"]})]}):(0,s.jsxs)("p",{style:{color:"#666",fontStyle:"italic"},children:["No employees found.",(0,s.jsx)(p(),{href:"/employees/new",style:{color:"#007cba",marginLeft:"5px"},children:"Add employees first"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{children:["\uD83D\uDCCB Attendance Records (",n.length,")"]}),n.length>0?(0,s.jsxs)("ul",{style:{margin:0,paddingLeft:"20px"},children:[n.slice(0,5).map(e=>{let a=t.find(a=>a.id===e.employee_id);return(0,s.jsxs)("li",{style:{marginBottom:"5px"},children:[(0,s.jsx)("strong",{children:(null==a?void 0:a.name)||"Unknown Employee"}),(0,s.jsxs)("span",{style:{marginLeft:"10px",padding:"2px 6px",borderRadius:"4px",fontSize:"0.8rem",backgroundColor:"present"===e.status?"#d4edda":"absent"===e.status?"#f8d7da":"#fff3cd"},children:[e.status," on ",e.date]})]},e.id)}),n.length>5&&(0,s.jsxs)("li",{style:{color:"#666",fontStyle:"italic"},children:["...and ",n.length-5," more"]})]}):(0,s.jsxs)("p",{style:{color:"#666",fontStyle:"italic"},children:["No attendance records found.",t.length>0&&(0,s.jsx)(p(),{href:"/attendance/bulk",style:{color:"#007cba",marginLeft:"5px"},children:"Mark attendance"})]})]})]}),(0,s.jsxs)("div",{style:{marginTop:"20px",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:[(0,s.jsx)("h4",{children:"\uD83D\uDD17 Connection Status:"}),(0,s.jsxs)("ul",{style:{margin:"10px 0",paddingLeft:"20px"},children:[(0,s.jsxs)("li",{style:{color:g.firebaseConfigured?"#28a745":"#dc3545"},children:[g.firebaseConfigured?"✅":"❌"," Firebase: ",g.firebaseConfigured?"Configured":"Not Configured"]}),(0,s.jsxs)("li",{style:{color:g.userAuthenticated?"#28a745":"#dc3545"},children:[g.userAuthenticated?"✅":"❌"," Authentication: ",g.userAuthenticated?"Signed in as ".concat(g.userEmail):"Not signed in"]}),(0,s.jsxs)("li",{style:{color:b?"#dc3545":"#28a745"},children:[b?"❌":"✅"," Employee Service: ",b?"Failed":"Connected (".concat(t.length," employees loaded)")]}),(0,s.jsxs)("li",{style:{color:b?"#dc3545":"#28a745"},children:[b?"❌":"✅"," Attendance Service: ",b?"Failed":"Connected (".concat(n.length," records loaded)")]}),!b&&(0,s.jsxs)("li",{style:{color:"#28a745"},children:["✅ Data Linking: ",n.filter(e=>t.some(a=>a.id===e.employee_id)).length," attendance records properly linked to employees"]})]}),g.timestamp&&(0,s.jsxs)("p",{style:{fontSize:"0.8rem",color:"#666",margin:"10px 0 0 0"},children:["Last tested: ",new Date(g.timestamp).toLocaleString()]})]}),b&&(0,s.jsxs)("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#fff3cd",borderRadius:"4px",border:"1px solid #ffeaa7"},children:[(0,s.jsx)("h4",{children:"\uD83D\uDEE0️ Troubleshooting Steps:"}),(0,s.jsxs)("ol",{style:{margin:"10px 0",paddingLeft:"20px"},children:[!g.firebaseConfigured&&(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Configure Firebase:"})," Go to"," ",(0,s.jsx)(p(),{href:"/firebase-setup",style:{color:"#007cba"},children:"Firebase Setup"})," ","to configure your Firebase project."]}),!g.userAuthenticated&&(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Sign In:"})," Go to"," ",(0,s.jsx)(p(),{href:"/auth",style:{color:"#007cba"},children:"Sign In"})," ","to authenticate with your account."]}),g.firebaseConfigured&&g.userAuthenticated&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Check Browser Console:"})," Open Developer Tools (F12) and check the Console tab for detailed error messages."]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Check Network:"})," Ensure you have a stable internet connection and can access Firebase services."]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Check Firestore Rules:"})," Make sure your Firestore security rules allow read/write access for authenticated users."]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Check Firebase Project:"})," Verify that your Firebase project is active and Firestore is enabled."]})]})]})]}),(0,s.jsx)("div",{style:{marginTop:"15px",textAlign:"center"},children:(0,s.jsx)("button",{onClick:j,disabled:i,style:{padding:"10px 20px",backgroundColor:i?"#6c757d":"#007cba",color:"white",border:"none",borderRadius:"4px",cursor:i?"not-allowed":"pointer"},children:i?"\uD83D\uDD04 Testing...":"\uD83D\uDD04 Retest Connection"})})]})};function j(){let{user:e,loading:a}=(0,l.a)(),t=(0,o.useRouter)(),[d,i]=(0,r.useState)([]),[g,p]=(0,r.useState)([]),[h,j]=(0,r.useState)(null),[k,y]=(0,r.useState)(!0),[w,v]=(0,r.useState)(""),[N,D]=(0,r.useState)("dashboard"),[z,C]=(0,r.useState)(new Date().toISOString().split("T")[0]);(0,r.useEffect)(()=>{a||e||t.push("/auth/login")},[e,a,t]),(0,r.useEffect)(()=>{e&&A()},[e]);let A=async()=>{y(!0),v("");try{console.log("Starting to load attendance data..."),console.log("Loading employees...");let e=[];try{e=await f.Z.getAllEmployees(),console.log("Employees loaded successfully:",e.length),i(e)}catch(e){throw console.error("Error loading employees:",e),Error("Failed to load employees: ".concat(e.message))}console.log("Loading attendance records...");let a=[];try{a=await x.Z.getAllAttendance(),console.log("Attendance records loaded successfully:",a.length),p(a)}catch(e){throw console.error("Error loading attendance records:",e),Error("Failed to load attendance records: ".concat(e.message))}console.log("Calculating statistics...");try{let e=new Date().toISOString().split("T")[0],a=new Date(e),t=new Date(e);t.setHours(23,59,59,999);let s=await x.Z.getAttendanceStats({dateRange:{start:a,end:t}});console.log("Statistics calculated successfully:",s),j(s)}catch(e){console.error("Error calculating statistics:",e),j(null)}console.log("All data loaded successfully!")}catch(e){console.error("Error loading attendance data:",e),v(e.message||"Failed to load attendance data. Please try again.")}finally{y(!1)}},S=async e=>{v("");try{if(Array.isArray(e)){let a=await x.Z.markBulkAttendance(e),t="Successfully processed ".concat(a.success," employees!");a.created>0&&a.updated>0?t+=" (".concat(a.created," new, ").concat(a.updated," updated)"):a.updated>0&&(t+=" (".concat(a.updated," updated - already marked today)")),console.log(t),a.errors>0&&v("".concat(t," However, ").concat(a.errors," records failed to process."))}else{let a=await x.Z.markAttendance(e);"updated"===a.operation?console.log("Attendance updated for employee (already marked today)"):console.log("New attendance record created")}await A(),D("dashboard")}catch(e){console.error("Error marking attendance:",e),v("Failed to mark attendance. Please try again.")}},E=async e=>{if(window.confirm("Are you sure you want to delete ".concat(e.length," attendance record(s)?"))){v("");try{console.log("Deleting attendance records:",e);let a=await Promise.all(e.map(async e=>{try{let a=await x.Z.deleteAttendance(e);return{id:e,success:!0,deleted:a}}catch(a){return console.error("Failed to delete record ".concat(e,":"),a),{id:e,success:!1,error:a.message}}})),t=a.filter(e=>e.success&&e.deleted).length,s=a.filter(e=>e.success&&!e.deleted).length,d=a.filter(e=>!e.success).length;console.log("Deletion results: ".concat(t," deleted, ").concat(s," not found, ").concat(d," errors")),await A(),d>0?v("Some records could not be deleted. ".concat(t," deleted successfully, ").concat(d," failed.")):s>0&&0===t?v("No records were found to delete. They may have already been removed."):s>0&&console.log("".concat(t," records deleted, ").concat(s," were already removed."))}catch(e){console.error("Error during bulk deletion:",e),v("Failed to delete attendance records. Please try again.")}}};if(a||k)return(0,s.jsxs)("div",{className:"loading-container",children:[(0,s.jsx)("div",{className:"spinner"}),(0,s.jsx)("p",{children:"Loading attendance dashboard..."})]});if(!e)return null;let F=(()=>{let e=new Date().toISOString().split("T")[0],a=g.filter(a=>a.date===e),t=a.filter(e=>"present"===e.status).length,s=a.filter(e=>"absent"===e.status).length,n=a.filter(e=>"half-day"===e.status).length,r=d.length,o=a.length;return{total:r,marked:o,pending:r-o,present:t,absent:s,halfDay:n,attendanceRate:o>0?((t+.5*n)/o*100).toFixed(1):0}})(),R=(()=>{let e=new Date().toISOString().split("T")[0];return g.filter(a=>a.date===e)})(),T=(()=>{let e=new Date;e.setDate(e.getDate()-7);let a=e.toISOString().split("T")[0];return g.filter(e=>e.date>=a).sort((e,a)=>new Date(a.date)-new Date(e.date)).slice(0,10)})();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c(),{children:[(0,s.jsx)("title",{className:"jsx-f0077a964ec7d7d5",children:"Attendance Dashboard - Employee Management"}),(0,s.jsx)("meta",{name:"description",content:"Manage employee attendance, mark bulk attendance, and view attendance reports",className:"jsx-f0077a964ec7d7d5"})]}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 attendance-dashboard",children:[w&&(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 error-banner",children:[(0,s.jsx)("strong",{className:"jsx-f0077a964ec7d7d5",children:"Error:"})," ",w,(0,s.jsx)("button",{onClick:()=>v(""),className:"jsx-f0077a964ec7d7d5 close-error",children:"\xd7"})]}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 dashboard-header",children:[(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 header-content",children:[(0,s.jsx)("h1",{className:"jsx-f0077a964ec7d7d5",children:"Attendance Dashboard"}),(0,s.jsxs)("p",{className:"jsx-f0077a964ec7d7d5",children:["Manage employee attendance for ",new Date().toLocaleDateString()]})]}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 header-actions",children:[(0,s.jsx)("button",{onClick:()=>D("mark"),className:"jsx-f0077a964ec7d7d5 btn-primary",children:"\uD83D\uDCDD Mark Attendance"}),(0,s.jsx)("button",{onClick:()=>D("bulk"),className:"jsx-f0077a964ec7d7d5 btn-secondary",children:"\uD83D\uDCCB Bulk Mark"}),(0,s.jsx)("button",{onClick:()=>D("reports"),className:"jsx-f0077a964ec7d7d5 btn-secondary",children:"\uD83D\uDCCA View Reports"}),(0,s.jsx)("button",{onClick:A,disabled:k,className:"jsx-f0077a964ec7d7d5 btn-refresh",children:"\uD83D\uDD04 Refresh"})]})]}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 view-navigation",children:[(0,s.jsx)("button",{onClick:()=>D("dashboard"),className:"jsx-f0077a964ec7d7d5 "+"nav-btn ".concat("dashboard"===N?"active":""),children:"\uD83C\uDFE0 Dashboard"}),(0,s.jsx)("button",{onClick:()=>D("mark"),className:"jsx-f0077a964ec7d7d5 "+"nav-btn ".concat("mark"===N?"active":""),children:"\uD83D\uDCDD Mark Attendance"}),(0,s.jsx)("button",{onClick:()=>D("bulk"),className:"jsx-f0077a964ec7d7d5 "+"nav-btn ".concat("bulk"===N?"active":""),children:"\uD83D\uDCCB Bulk Mark"}),(0,s.jsx)("button",{onClick:()=>D("reports"),className:"jsx-f0077a964ec7d7d5 "+"nav-btn ".concat("reports"===N?"active":""),children:"\uD83D\uDCCA Reports"})]}),0===d.length&&!k&&(0,s.jsx)(u,{}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 dashboard-content",children:["dashboard"===N&&(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 dashboard-view",children:[(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 quick-stats",children:(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 stats-grid",children:[(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 stat-card total",children:[(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-icon",children:"\uD83D\uDC65"}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 stat-info",children:[(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-value",children:F.total}),(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-label",children:"Total Employees"})]})]}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 stat-card marked",children:[(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-icon",children:"✅"}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 stat-info",children:[(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-value",children:F.marked}),(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-label",children:"Marked Today"})]})]}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 stat-card pending",children:[(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-icon",children:"⏳"}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 stat-info",children:[(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-value",children:F.pending}),(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-label",children:"Pending"})]})]}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 stat-card present",children:[(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-icon",children:"✅"}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 stat-info",children:[(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-value",children:F.present}),(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-label",children:"Present"})]})]}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 stat-card absent",children:[(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-icon",children:"❌"}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 stat-info",children:[(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-value",children:F.absent}),(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-label",children:"Absent"})]})]}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 stat-card half-day",children:[(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-icon",children:"◐"}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 stat-info",children:[(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-value",children:F.halfDay}),(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-label",children:"Half Day"})]})]}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 stat-card rate",children:[(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-icon",children:"\uD83D\uDCC8"}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 stat-info",children:[(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 stat-value",children:[F.attendanceRate,"%"]}),(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 stat-label",children:"Attendance Rate"})]})]})]})}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 today-section",children:[(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 section-header",children:[(0,s.jsxs)("h2",{className:"jsx-f0077a964ec7d7d5",children:["Today's Attendance (",new Date().toLocaleDateString(),")"]}),(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 section-actions",children:(0,s.jsx)("button",{onClick:()=>D("bulk"),className:"jsx-f0077a964ec7d7d5 btn-primary",children:"Mark Bulk Attendance"})})]}),R.length>0?(0,s.jsx)(m.Z,{attendanceRecords:R,employees:d,loading:k,onDelete:E,onRefresh:A}):(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 no-attendance",children:[(0,s.jsx)("div",{className:"jsx-f0077a964ec7d7d5 no-attendance-icon",children:"\uD83D\uDCC5"}),(0,s.jsx)("h3",{className:"jsx-f0077a964ec7d7d5",children:"No attendance marked today"}),(0,s.jsx)("p",{className:"jsx-f0077a964ec7d7d5",children:"Start by marking attendance for your employees."}),(0,s.jsx)("button",{onClick:()=>D("bulk"),className:"jsx-f0077a964ec7d7d5 btn-primary",children:"Mark Attendance"})]})]}),T.length>0&&(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 recent-section",children:[(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 section-header",children:[(0,s.jsx)("h2",{className:"jsx-f0077a964ec7d7d5",children:"Recent Activity (Last 7 Days)"}),(0,s.jsx)("button",{onClick:()=>D("reports"),className:"jsx-f0077a964ec7d7d5 btn-secondary",children:"View All Reports"})]}),(0,s.jsx)(m.Z,{attendanceRecords:T,employees:d,loading:k,onDelete:E,onRefresh:A})]})]}),"mark"===N&&(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 mark-view",children:[(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 view-header",children:[(0,s.jsx)("h2",{className:"jsx-f0077a964ec7d7d5",children:"Mark Individual Attendance"}),(0,s.jsx)("p",{className:"jsx-f0077a964ec7d7d5",children:"Select an employee and mark their attendance for a specific date."})]}),(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 coming-soon",children:[(0,s.jsx)("h3",{className:"jsx-f0077a964ec7d7d5",children:"Individual Attendance Marking"}),(0,s.jsx)("p",{className:"jsx-f0077a964ec7d7d5",children:"This feature is coming soon. Please use bulk marking for now."}),(0,s.jsx)("button",{onClick:()=>D("bulk"),className:"jsx-f0077a964ec7d7d5 btn-primary",children:"Go to Bulk Marking"})]})]}),"bulk"===N&&(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 bulk-view",children:[(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 view-header",children:[(0,s.jsx)("h2",{className:"jsx-f0077a964ec7d7d5",children:"Bulk Attendance Marking"}),(0,s.jsx)("p",{className:"jsx-f0077a964ec7d7d5",children:"Mark attendance for multiple employees at once."})]}),(0,s.jsx)(b.Z,{employees:d,selectedDate:z,mode:"bulk",onSubmit:S,onCancel:()=>D("dashboard"),loading:k})]}),"reports"===N&&(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 reports-view",children:[(0,s.jsxs)("div",{className:"jsx-f0077a964ec7d7d5 view-header",children:[(0,s.jsx)("h2",{className:"jsx-f0077a964ec7d7d5",children:"Attendance Reports"}),(0,s.jsx)("p",{className:"jsx-f0077a964ec7d7d5",children:"View and analyze attendance data across different time periods."})]}),(0,s.jsx)(m.Z,{attendanceRecords:g,employees:d,loading:k,onDelete:E,onRefresh:A})]})]})]}),(0,s.jsx)(n(),{id:"f0077a964ec7d7d5",children:".attendance-dashboard.jsx-f0077a964ec7d7d5{max-width:1200px;margin:0 auto;padding:20px;min-height:100vh;background:#f5f5f5}.loading-container.jsx-f0077a964ec7d7d5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;min-height:100vh;gap:20px}.spinner.jsx-f0077a964ec7d7d5{border:4px solid#f3f3f3;border-top:4px solid#007cba;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:40px;height:40px;-webkit-animation:spin 1s linear infinite;-moz-animation:spin 1s linear infinite;-o-animation:spin 1s linear infinite;animation:spin 1s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.error-banner.jsx-f0077a964ec7d7d5{background:#fee;color:#c33;padding:12px 16px;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;margin-bottom:20px;border:1px solid#fcc;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.close-error.jsx-f0077a964ec7d7d5{background:none;border:none;color:#c33;cursor:pointer;font-size:18px;padding:0;margin-left:10px}.dashboard-header.jsx-f0077a964ec7d7d5{background:white;padding:30px;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;-webkit-box-shadow:0 2px 10px rgba(0,0,0,.1);-moz-box-shadow:0 2px 10px rgba(0,0,0,.1);box-shadow:0 2px 10px rgba(0,0,0,.1);margin-bottom:20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.header-content.jsx-f0077a964ec7d7d5 h1.jsx-f0077a964ec7d7d5{margin:0 0 8px 0;color:#333;font-size:2rem}.header-content.jsx-f0077a964ec7d7d5 p.jsx-f0077a964ec7d7d5{margin:0;color:#666;font-size:1rem}.header-actions.jsx-f0077a964ec7d7d5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:12px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.btn-primary.jsx-f0077a964ec7d7d5,.btn-secondary.jsx-f0077a964ec7d7d5,.btn-refresh.jsx-f0077a964ec7d7d5{padding:12px 20px;border:none;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s;white-space:nowrap}.btn-primary.jsx-f0077a964ec7d7d5{background:#007cba;color:white}.btn-primary.jsx-f0077a964ec7d7d5:hover:not(:disabled){background:#005a87;-webkit-transform:translatey(-1px);-moz-transform:translatey(-1px);-ms-transform:translatey(-1px);-o-transform:translatey(-1px);transform:translatey(-1px)}.btn-secondary.jsx-f0077a964ec7d7d5{background:#f8f9fa;color:#666;border:1px solid#ddd}.btn-secondary.jsx-f0077a964ec7d7d5:hover:not(:disabled){background:#e9ecef;-webkit-transform:translatey(-1px);-moz-transform:translatey(-1px);-ms-transform:translatey(-1px);-o-transform:translatey(-1px);transform:translatey(-1px)}.btn-refresh.jsx-f0077a964ec7d7d5{background:#17a2b8;color:white}.btn-refresh.jsx-f0077a964ec7d7d5:hover:not(:disabled){background:#138496}.btn-refresh.jsx-f0077a964ec7d7d5:disabled{opacity:.6;cursor:not-allowed}.view-navigation.jsx-f0077a964ec7d7d5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;background:white;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.1);-moz-box-shadow:0 2px 4px rgba(0,0,0,.1);box-shadow:0 2px 4px rgba(0,0,0,.1);margin-bottom:20px;overflow:hidden}.nav-btn.jsx-f0077a964ec7d7d5{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;padding:15px 20px;border:none;background:white;color:#666;cursor:pointer;font-size:14px;font-weight:500;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s;border-right:1px solid#eee}.nav-btn.jsx-f0077a964ec7d7d5:last-child{border-right:none}.nav-btn.jsx-f0077a964ec7d7d5:hover{background:#f8f9fa}.nav-btn.active.jsx-f0077a964ec7d7d5{background:#007cba;color:white}.dashboard-content.jsx-f0077a964ec7d7d5{background:white;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;-webkit-box-shadow:0 2px 10px rgba(0,0,0,.1);-moz-box-shadow:0 2px 10px rgba(0,0,0,.1);box-shadow:0 2px 10px rgba(0,0,0,.1);overflow:hidden}.dashboard-view.jsx-f0077a964ec7d7d5{padding:0}.quick-stats.jsx-f0077a964ec7d7d5{padding:30px;border-bottom:1px solid#eee}.stats-grid.jsx-f0077a964ec7d7d5{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px}.stat-card.jsx-f0077a964ec7d7d5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:15px;padding:20px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;border:1px solid#eee;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.stat-card.jsx-f0077a964ec7d7d5:hover{-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px);-webkit-box-shadow:0 4px 12px rgba(0,0,0,.1);-moz-box-shadow:0 4px 12px rgba(0,0,0,.1);box-shadow:0 4px 12px rgba(0,0,0,.1)}.stat-card.total.jsx-f0077a964ec7d7d5{background:-webkit-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:-moz-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:-o-linear-gradient(315deg,#667eea 0%,#764ba2 100%);background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;border:none}.stat-card.marked.jsx-f0077a964ec7d7d5{background:-webkit-linear-gradient(315deg,#f093fb 0%,#f5576c 100%);background:-moz-linear-gradient(315deg,#f093fb 0%,#f5576c 100%);background:-o-linear-gradient(315deg,#f093fb 0%,#f5576c 100%);background:linear-gradient(135deg,#f093fb 0%,#f5576c 100%);color:white;border:none}.stat-card.pending.jsx-f0077a964ec7d7d5{background:-webkit-linear-gradient(315deg,#ffecd2 0%,#fcb69f 100%);background:-moz-linear-gradient(315deg,#ffecd2 0%,#fcb69f 100%);background:-o-linear-gradient(315deg,#ffecd2 0%,#fcb69f 100%);background:linear-gradient(135deg,#ffecd2 0%,#fcb69f 100%);color:#333;border:none}.stat-card.present.jsx-f0077a964ec7d7d5{background:-webkit-linear-gradient(315deg,#a8edea 0%,#fed6e3 100%);background:-moz-linear-gradient(315deg,#a8edea 0%,#fed6e3 100%);background:-o-linear-gradient(315deg,#a8edea 0%,#fed6e3 100%);background:linear-gradient(135deg,#a8edea 0%,#fed6e3 100%);color:#333;border:none}.stat-card.absent.jsx-f0077a964ec7d7d5{background:-webkit-linear-gradient(315deg,#ff9a9e 0%,#fecfef 100%);background:-moz-linear-gradient(315deg,#ff9a9e 0%,#fecfef 100%);background:-o-linear-gradient(315deg,#ff9a9e 0%,#fecfef 100%);background:linear-gradient(135deg,#ff9a9e 0%,#fecfef 100%);color:#333;border:none}.stat-card.half-day.jsx-f0077a964ec7d7d5{background:-webkit-linear-gradient(315deg,#ffeaa7 0%,#fab1a0 100%);background:-moz-linear-gradient(315deg,#ffeaa7 0%,#fab1a0 100%);background:-o-linear-gradient(315deg,#ffeaa7 0%,#fab1a0 100%);background:linear-gradient(135deg,#ffeaa7 0%,#fab1a0 100%);color:#333;border:none}.stat-card.rate.jsx-f0077a964ec7d7d5{background:-webkit-linear-gradient(315deg,#74b9ff 0%,#0984e3 100%);background:-moz-linear-gradient(315deg,#74b9ff 0%,#0984e3 100%);background:-o-linear-gradient(315deg,#74b9ff 0%,#0984e3 100%);background:linear-gradient(135deg,#74b9ff 0%,#0984e3 100%);color:white;border:none}.stat-icon.jsx-f0077a964ec7d7d5{font-size:2rem;opacity:.8}.stat-value.jsx-f0077a964ec7d7d5{font-size:1.8rem;font-weight:700;margin-bottom:4px}.stat-label.jsx-f0077a964ec7d7d5{font-size:.9rem;opacity:.9}.today-section.jsx-f0077a964ec7d7d5,.recent-section.jsx-f0077a964ec7d7d5{border-bottom:1px solid#eee}.today-section.jsx-f0077a964ec7d7d5:last-child,.recent-section.jsx-f0077a964ec7d7d5:last-child{border-bottom:none}.section-header.jsx-f0077a964ec7d7d5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:30px 30px 20px}.section-header.jsx-f0077a964ec7d7d5 h2.jsx-f0077a964ec7d7d5{margin:0;color:#333;font-size:1.3rem}.section-actions.jsx-f0077a964ec7d7d5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:10px}.no-attendance.jsx-f0077a964ec7d7d5{text-align:center;padding:60px 30px;color:#666}.no-attendance-icon.jsx-f0077a964ec7d7d5{font-size:4rem;margin-bottom:20px}.no-attendance.jsx-f0077a964ec7d7d5 h3.jsx-f0077a964ec7d7d5{margin:0 0 10px 0;color:#333}.no-attendance.jsx-f0077a964ec7d7d5 p.jsx-f0077a964ec7d7d5{margin:0 0 20px 0}.mark-view.jsx-f0077a964ec7d7d5,.bulk-view.jsx-f0077a964ec7d7d5,.reports-view.jsx-f0077a964ec7d7d5{padding:30px}.view-header.jsx-f0077a964ec7d7d5{margin-bottom:30px;text-align:center}.view-header.jsx-f0077a964ec7d7d5 h2.jsx-f0077a964ec7d7d5{margin:0 0 10px 0;color:#333}.view-header.jsx-f0077a964ec7d7d5 p.jsx-f0077a964ec7d7d5{margin:0;color:#666}.coming-soon.jsx-f0077a964ec7d7d5{text-align:center;padding:60px 20px;background:#f8f9fa;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;border:1px solid#eee}.coming-soon.jsx-f0077a964ec7d7d5 h3.jsx-f0077a964ec7d7d5{margin:0 0 10px 0;color:#333}.coming-soon.jsx-f0077a964ec7d7d5 p.jsx-f0077a964ec7d7d5{margin:0 0 20px 0;color:#666}@media(max-width:768px){.attendance-dashboard.jsx-f0077a964ec7d7d5{padding:10px}.dashboard-header.jsx-f0077a964ec7d7d5{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-webkit-align-items:stretch;-moz-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;gap:20px;padding:20px}.header-content.jsx-f0077a964ec7d7d5{text-align:center}.header-actions.jsx-f0077a964ec7d7d5{-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.view-navigation.jsx-f0077a964ec7d7d5{overflow-x:auto}.nav-btn.jsx-f0077a964ec7d7d5{white-space:nowrap;min-width:120px}.stats-grid.jsx-f0077a964ec7d7d5{grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px}.stat-card.jsx-f0077a964ec7d7d5{padding:15px}.stat-icon.jsx-f0077a964ec7d7d5{font-size:1.5rem}.stat-value.jsx-f0077a964ec7d7d5{font-size:1.4rem}.section-header.jsx-f0077a964ec7d7d5{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-webkit-align-items:stretch;-moz-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;gap:15px;padding:20px}.mark-view.jsx-f0077a964ec7d7d5,.bulk-view.jsx-f0077a964ec7d7d5,.reports-view.jsx-f0077a964ec7d7d5{padding:20px}}"})]})}}},function(e){e.O(0,[814,314,804,968,23,724,888,774,179],function(){return e(e.s=30)}),_N_E=e.O()}]);