"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[694],{4154:function(e,a,r){var s=r(5893),n=r(645),o=r.n(n),i=r(7294),t=r(4069);a.Z=e=>{let{initialData:a=null,onSubmit:r,onCancel:n,loading:d=!1,mode:l="create"}=e,[c,f]=(0,i.useState)((0,t.CW)()),[m,x]=(0,i.useState)({}),[p,h]=(0,i.useState)(!1);(0,i.useEffect)(()=>{a?f({name:a.name||"",designation:a.designation||"",aadhar_id:a.aadhar_id||"",joining_date:a.joining_date?"string"==typeof a.joining_date?a.joining_date:a.joining_date.toISOString().split("T")[0]:"",age:a.age||""}):f((0,t.CW)())},[a]);let j=e=>{let{name:a,value:r}=e.target;f(e=>({...e,[a]:r})),m[a]&&x(e=>({...e,[a]:""}))},b=()=>{let e=(0,t.uO)(c);return x(e.errors),e.isValid},g=async e=>{if(e.preventDefault(),b()){h(!0);try{await r(c)}catch(e){console.error("Form submission error:",e),e.message.includes("Validation failed:")?x({general:e.message.replace("Validation failed:","").trim()}):e.message.includes("Aadhar ID already exists")?x({aadhar_id:"This Aadhar ID is already registered with another employee"}):x({general:e.message||"An error occurred while saving employee data"})}finally{h(!1)}}};return(0,s.jsxs)("div",{className:"jsx-5239f07a3641fe55 employee-form",children:[(0,s.jsxs)("form",{onSubmit:g,className:"jsx-5239f07a3641fe55 form",children:[(0,s.jsxs)("div",{className:"jsx-5239f07a3641fe55 form-header",children:[(0,s.jsx)("h2",{className:"jsx-5239f07a3641fe55",children:"create"===l?"Add New Employee":"Update Employee"}),(0,s.jsx)("p",{className:"jsx-5239f07a3641fe55 form-description",children:"Fill in the employee details below. Fields marked with * are required."})]}),m.general&&(0,s.jsxs)("div",{className:"jsx-5239f07a3641fe55 error-banner",children:[(0,s.jsx)("strong",{className:"jsx-5239f07a3641fe55",children:"Error:"})," ",m.general]}),(0,s.jsxs)("div",{className:"jsx-5239f07a3641fe55 form-group",children:[(0,s.jsx)("label",{htmlFor:"name",className:"jsx-5239f07a3641fe55 form-label",children:"Full Name *"}),(0,s.jsx)("input",{type:"text",id:"name",name:"name",value:c.name,onChange:j,placeholder:"Enter employee's full name",required:!0,className:"jsx-5239f07a3641fe55 "+"form-input ".concat(m.name?"error":"")}),m.name&&(0,s.jsx)("div",{className:"jsx-5239f07a3641fe55 error-message",children:m.name})]}),(0,s.jsxs)("div",{className:"jsx-5239f07a3641fe55 form-group",children:[(0,s.jsx)("label",{htmlFor:"designation",className:"jsx-5239f07a3641fe55 form-label",children:"Designation *"}),(0,s.jsxs)("select",{id:"designation",name:"designation",value:c.designation,onChange:j,required:!0,className:"jsx-5239f07a3641fe55 "+"form-input ".concat(m.designation?"error":""),children:[(0,s.jsx)("option",{value:"",className:"jsx-5239f07a3641fe55",children:"Select designation"}),Object.entries(t.tJ).map(e=>{let[a,r]=e;return(0,s.jsx)("option",{value:r,className:"jsx-5239f07a3641fe55",children:r},a)})]}),m.designation&&(0,s.jsx)("div",{className:"jsx-5239f07a3641fe55 error-message",children:m.designation}),(0,s.jsx)("div",{className:"jsx-5239f07a3641fe55 field-hint",children:"Select the employee's job designation"})]}),(0,s.jsxs)("div",{className:"jsx-5239f07a3641fe55 form-group",children:[(0,s.jsx)("label",{htmlFor:"aadhar_id",className:"jsx-5239f07a3641fe55 form-label",children:"Aadhar ID (Optional)"}),(0,s.jsx)("input",{type:"text",id:"aadhar_id",name:"aadhar_id",value:c.aadhar_id,onChange:e=>{let a=e.target.value.replace(/\D/g,"");a.length>12&&(a=a.substring(0,12)),f(e=>({...e,aadhar_id:a})),m.aadhar_id&&x(e=>({...e,aadhar_id:""}))},placeholder:"Enter 12-digit Aadhar number",maxLength:"12",className:"jsx-5239f07a3641fe55 "+"form-input ".concat(m.aadhar_id?"error":"")}),m.aadhar_id&&(0,s.jsx)("div",{className:"jsx-5239f07a3641fe55 error-message",children:m.aadhar_id}),(0,s.jsx)("div",{className:"jsx-5239f07a3641fe55 field-hint",children:"12-digit Aadhar number (optional but recommended for verification)"})]}),(0,s.jsxs)("div",{className:"jsx-5239f07a3641fe55 form-group",children:[(0,s.jsx)("label",{htmlFor:"joining_date",className:"jsx-5239f07a3641fe55 form-label",children:"Joining Date *"}),(0,s.jsx)("input",{type:"date",id:"joining_date",name:"joining_date",value:c.joining_date,onChange:j,max:new Date().toISOString().split("T")[0],required:!0,className:"jsx-5239f07a3641fe55 "+"form-input ".concat(m.joining_date?"error":"")}),m.joining_date&&(0,s.jsx)("div",{className:"jsx-5239f07a3641fe55 error-message",children:m.joining_date}),(0,s.jsx)("div",{className:"jsx-5239f07a3641fe55 field-hint",children:"Date when employee joined the organization"})]}),(0,s.jsxs)("div",{className:"jsx-5239f07a3641fe55 form-group",children:[(0,s.jsx)("label",{htmlFor:"age",className:"jsx-5239f07a3641fe55 form-label",children:"Age (Optional)"}),(0,s.jsx)("input",{type:"text",id:"age",name:"age",value:c.age,onChange:e=>{let a=e.target.value.replace(/\D/g,"");a.length>2&&(a=a.substring(0,2)),f(e=>({...e,age:a})),m.age&&x(e=>({...e,age:""}))},placeholder:"Enter age in years",maxLength:"2",className:"jsx-5239f07a3641fe55 "+"form-input ".concat(m.age?"error":"")}),m.age&&(0,s.jsx)("div",{className:"jsx-5239f07a3641fe55 error-message",children:m.age}),(0,s.jsx)("div",{className:"jsx-5239f07a3641fe55 field-hint",children:"Age in years (18-65)"})]}),(0,s.jsxs)("div",{className:"jsx-5239f07a3641fe55 form-actions",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{n&&n()},disabled:p||d,className:"jsx-5239f07a3641fe55 btn-secondary",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:p||d,className:"jsx-5239f07a3641fe55 btn-primary",children:p||d?"create"===l?"Adding Employee...":"Updating Employee...":"create"===l?"Add Employee":"Update Employee"})]})]}),(0,s.jsx)(o(),{id:"5239f07a3641fe55",children:".employee-form.jsx-5239f07a3641fe55{max-width:600px;margin:0 auto;padding:20px}.form.jsx-5239f07a3641fe55{background:white;padding:30px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;-webkit-box-shadow:0 2px 10px rgba(0,0,0,.1);-moz-box-shadow:0 2px 10px rgba(0,0,0,.1);box-shadow:0 2px 10px rgba(0,0,0,.1)}.form-header.jsx-5239f07a3641fe55{margin-bottom:30px;text-align:center}.form-header.jsx-5239f07a3641fe55 h2.jsx-5239f07a3641fe55{margin:0 0 10px 0;color:#333;font-size:1.5rem}.form-description.jsx-5239f07a3641fe55{margin:0;color:#666;font-size:.9rem}.error-banner.jsx-5239f07a3641fe55{background:#fee;color:#c33;padding:12px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;margin-bottom:20px;border:1px solid#fcc}.form-group.jsx-5239f07a3641fe55{margin-bottom:20px}.form-label.jsx-5239f07a3641fe55{display:block;margin-bottom:6px;font-weight:500;color:#333;font-size:.9rem}.form-input.jsx-5239f07a3641fe55{width:100%;padding:12px;border:1px solid#ddd;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:14px;-webkit-transition:border-color.2s,box-shadow.2s;-moz-transition:border-color.2s,box-shadow.2s;-o-transition:border-color.2s,box-shadow.2s;transition:border-color.2s,box-shadow.2s}.form-input.jsx-5239f07a3641fe55:focus{outline:none;border-color:#007cba;-webkit-box-shadow:0 0 0 2px rgba(0,124,186,.2);-moz-box-shadow:0 0 0 2px rgba(0,124,186,.2);box-shadow:0 0 0 2px rgba(0,124,186,.2)}.form-input.error.jsx-5239f07a3641fe55{border-color:#dc3545}.form-input.error.jsx-5239f07a3641fe55:focus{border-color:#dc3545;-webkit-box-shadow:0 0 0 2px rgba(220,53,69,.2);-moz-box-shadow:0 0 0 2px rgba(220,53,69,.2);box-shadow:0 0 0 2px rgba(220,53,69,.2)}.error-message.jsx-5239f07a3641fe55{color:#dc3545;font-size:.8rem;margin-top:4px}.field-hint.jsx-5239f07a3641fe55{color:#666;font-size:.8rem;margin-top:4px}.form-actions.jsx-5239f07a3641fe55{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:12px;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-top:30px;padding-top:20px;border-top:1px solid#eee}.btn-primary.jsx-5239f07a3641fe55,.btn-secondary.jsx-5239f07a3641fe55{padding:12px 24px;border:none;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:14px;font-weight:500;cursor:pointer;-webkit-transition:background-color.2s,-webkit-transform.1s;-moz-transition:background-color.2s,-moz-transform.1s;-o-transition:background-color.2s,-o-transform.1s;transition:background-color.2s,-webkit-transform.1s;transition:background-color.2s,-moz-transform.1s;transition:background-color.2s,-o-transform.1s;transition:background-color.2s,transform.1s}.btn-primary.jsx-5239f07a3641fe55{background:#007cba;color:white}.btn-primary.jsx-5239f07a3641fe55:hover:not(:disabled){background:#005a87;-webkit-transform:translatey(-1px);-moz-transform:translatey(-1px);-ms-transform:translatey(-1px);-o-transform:translatey(-1px);transform:translatey(-1px)}.btn-secondary.jsx-5239f07a3641fe55{background:#f8f9fa;color:#666;border:1px solid#ddd}.btn-secondary.jsx-5239f07a3641fe55:hover:not(:disabled){background:#e9ecef;-webkit-transform:translatey(-1px);-moz-transform:translatey(-1px);-ms-transform:translatey(-1px);-o-transform:translatey(-1px);transform:translatey(-1px)}.btn-primary.jsx-5239f07a3641fe55:disabled,.btn-secondary.jsx-5239f07a3641fe55:disabled{opacity:.6;cursor:not-allowed;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}@media(max-width:768px){.employee-form.jsx-5239f07a3641fe55{padding:10px}.form.jsx-5239f07a3641fe55{padding:20px}.form-actions.jsx-5239f07a3641fe55{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.btn-primary.jsx-5239f07a3641fe55,.btn-secondary.jsx-5239f07a3641fe55{width:100%}}"})]})}},6838:function(e,a,r){r.d(a,{Z:function(){return p}});var s=r(5893),n=r(9008),o=r.n(n),i=r(1664),t=r.n(i),d=r(5675),l=r.n(d),c=r(1163),f=r(3615),m=()=>{let e=(0,c.useRouter)(),{user:a,logout:r,loading:n,firebaseConfigured:o}=(0,f.a)(),i=a=>"/attendance"===a?e.pathname.startsWith("/attendance")?"active":"":"/employees"===a?e.pathname.startsWith("/employees")?"active":"":e.pathname===a?"active":"",d=async()=>{await r()};return(0,s.jsx)("header",{className:"header",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("nav",{className:"nav",children:[(0,s.jsx)(t(),{href:"/",className:"nav-brand",children:"AmitojInfra"}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"2rem"},children:[(0,s.jsxs)("ul",{className:"nav-links",children:[(0,s.jsx)("li",{children:(0,s.jsx)(t(),{href:"/",className:i("/"),children:"Home"})}),a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("li",{children:(0,s.jsx)(t(),{href:"/dashboard",className:i("/dashboard"),children:"Dashboard"})}),(0,s.jsx)("li",{children:(0,s.jsx)(t(),{href:"/employees",className:i("/employees"),children:"Employees"})}),(0,s.jsx)("li",{children:(0,s.jsx)(t(),{href:"/attendance",className:i("/attendance"),children:"Attendance"})})]})]}),(0,s.jsx)("div",{className:"auth-section",children:!n&&(0,s.jsx)(s.Fragment,{children:a?(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[a.photoURL&&(0,s.jsx)("div",{style:{position:"relative",width:"32px",height:"32px"},children:(0,s.jsx)(l(),{src:a.photoURL,alt:a.displayName||"User",width:32,height:32,style:{borderRadius:"50%",objectFit:"cover"},unoptimized:!0})}),(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:"#333",maxWidth:"120px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a.displayName||a.email}),(0,s.jsx)("button",{onClick:d,style:{padding:"0.25rem 0.75rem",fontSize:"0.75rem",backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"0.25rem",cursor:"pointer",color:"#666"},children:"Sign Out"})]}):(0,s.jsx)(s.Fragment,{children:o?(0,s.jsx)(t(),{href:"/auth",className:"".concat(i("/auth")," auth-link"),style:{padding:"0.5rem 1rem",backgroundColor:"#0070f3",color:"white",borderRadius:"0.25rem",textDecoration:"none",fontSize:"0.875rem",fontWeight:"500"},children:"Sign In"}):(0,s.jsx)(t(),{href:"/firebase-setup",className:"".concat(i("/firebase-setup")," auth-link"),style:{padding:"0.5rem 1rem",backgroundColor:"#dc3545",color:"white",borderRadius:"0.25rem",textDecoration:"none",fontSize:"0.875rem",fontWeight:"500"},children:"Setup Firebase"})})})})]})]})})})},x=()=>(0,s.jsx)("footer",{className:"footer",children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," AmitojInfra. All rights reserved."]}),(0,s.jsx)("p",{children:"Built with Next.js and deployed on GitHub Pages"})]})}),p=e=>{let{children:a,title:r="AmitojInfra - Next.js App",description:n="A Next.js application deployed on GitHub Pages"}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o(),{children:[(0,s.jsx)("title",{children:r}),(0,s.jsx)("meta",{name:"description",content:n}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)(m,{}),(0,s.jsx)("main",{className:"main",children:(0,s.jsx)("div",{className:"container",children:a})}),(0,s.jsx)(x,{})]})}},5006:function(e,a,r){var s=r(5893),n=r(3615),o=r(1163),i=r(7294);a.Z=e=>{let{children:a,fallback:r=null,redirectTo:t="/auth",requireAuth:d=!0}=e,{user:l,loading:c}=(0,n.a)(),f=(0,o.useRouter)();return((0,i.useEffect)(()=>{c||!d||l||f.push(t)},[l,c,f,t,d]),c)?(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",fontSize:"1.1rem",color:"#666"},children:"Loading..."}):d&&!l?r||(0,s.jsx)("div",{style:{textAlign:"center",padding:"2rem",color:"#666"},children:(0,s.jsx)("p",{children:"Redirecting to sign in..."})}):a}}}]);